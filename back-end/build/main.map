{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/API/BasicErrors/IdMustBeANumber.js","webpack:///./src/API/BasicErrors/IdParameterNotFound.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterMustBeInt.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/Errors/QuestionIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/getters.js","webpack:///./src/API/Quizz/Question/index.js","webpack:///./src/API/Quizz/Question/manage.js","webpack:///./src/API/Quizz/Question/question.middleware.js","webpack:///./src/API/Quizz/getters.js","webpack:///./src/API/Quizz/index.js","webpack:///./src/API/Quizz/manage.js","webpack:///./src/API/Quizz/quizz.middleware.js","webpack:///./src/API/User/getters.js","webpack:///./src/API/User/index.js","webpack:///./src/API/User/manage.js","webpack:///./src/API/UserAndQuiz/getters.js","webpack:///./src/API/UserAndQuiz/index.js","webpack:///./src/API/UserAndQuiz/manage.js","webpack:///./src/API/index.js","webpack:///./src/Database/BaseModel.js","webpack:///./src/Database/Errors/IdAlreadyUsed.js","webpack:///./src/Database/Errors/InvalidScheme.js","webpack:///./src/Errors/BadRequest.js","webpack:///./src/Errors/ErrorSchield.js","webpack:///./src/Errors/FileNotFound.js","webpack:///./src/Errors/HttpMessage.js","webpack:///./src/Models/quizz.model.js","webpack:///./src/Models/user.model.js","webpack:///./src/Models/userAndQuizModel.js","webpack:///./src/index.js","webpack:///external \"@hapi/joi\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"morgan\"","webpack:///external \"path\""],"names":["IdMustBeANumber","BadRequest","constructor","httpContent","success","message","statusCode","IdParameterNotFound","QuizzIdParameterMustBeInt","QuizzIdParameterNotFound","QuestionIdParameterNotFound","questionsGettersRouter","Router","get","questionMiddleware","req","res","HttpMessage","question","send","questionRouter","use","questionManagementRouter","post","Execute","updatedQuizz","Object","assign","quizz","id","questions","map","q","reduce","pv","cv","body","push","quizzModel","update","delete","filter","length","FileNotFound","put","objToChange","result","index","findIndex","next","params","find","quizzGettersRouter","quizzMiddleware","quizzRouter","quizzManageRouter","getAll","u","add","parseInt","isNaN","getOne","gettersUsersRouter","userModel","userRouter","manageUser","gettersUserAndQuizRouter","userAndQuizModel","id_user","err","status","json","answer","some","quiz","id_question","userAndQuizRouter","manageUserAndQuizRouter","apiRouter","BaseModel","name","model","filename","path","resolve","console","log","content","fs","existsSync","writeFileSync","obj","load","o","validate","error","InvalidSchemeError","d","value","IdAlreadyUsed","save","i","objId","p","deleteAll","predicate","JSON","stringify","readFileSync","parse","data","code","action","sendStatus","joi","object","number","integer","min","required","string","difficulty","max","default","privacy","is_public","boolean","users_access","array","items","question_name","type","id_answer","is_correct","surname","handicap","font_size","birthday","date","image_url","size_font_configs","size","played_quizzes","id_quiz","score_user","user_answers","response_user","PORT","process","env","app","express","disable","cors","bodyParser","morgan","end","listen"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdMustBeANumber extends BadRequest {\r\n\r\n    constructor() {\r\n        super();\r\n        this.httpContent = {\r\n            success: false,\r\n            message: \"The parameter id is a number but the provided wasn't\",\r\n            statusCode: 400.3\r\n        }\r\n    }\r\n}","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdParameterNotFound extends BadRequest {\r\n\r\n    constructor() {\r\n        super();\r\n        this.httpContent = {\r\n            success: false,\r\n            message: \"The parameter id is required but was not found\",\r\n            statusCode: 400.3\r\n        }\r\n    }\r\n}","import IdMustBeANumber from \"../../BasicErrors/IdMustBeANumber\";\r\n\r\nexport class QuizzIdParameterMustBeInt extends IdMustBeANumber {\r\n    constructor() {\r\n        super();\r\n        this.message = \"The quizz id is a number but the provided wasn't\"\r\n        this.statusCode = \"400.4.1\"\r\n    }\r\n}","import IdParameterNotFound from \"../../BasicErrors/IdParameterNotFound\";\r\n\r\nexport default class QuizzIdParameterNotFound extends IdParameterNotFound {\r\n    constructor() {\r\n        super();\r\n        this.message = \"The quizz id parameter is required but was not found\"\r\n        this.statusCode = \"400.3.1\"\r\n    }\r\n}","import IdParameterNotFound from \"../../../BasicErrors/IdParameterNotFound\";\r\n\r\nexport default class QuestionIdParameterNotFound extends IdParameterNotFound {\r\n\r\n    constructor() {\r\n        super()\r\n        this.statusCode = \"400.3.2\"\r\n        this.message = \"The question id parameter is required but was not found\"\r\n    }\r\n}","import { Router } from 'express'\r\nimport HttpMessage from '../../../Errors/HttpMessage'\r\nimport questionMiddleware from './question.middleware'\r\n\r\nconst questionsGettersRouter = Router()\r\n\r\nquestionsGettersRouter.get('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        new HttpMessage(req.question).send(res)\r\n    }\r\n)\r\n\r\nexport default questionsGettersRouter","import { Router } from 'express'\r\nimport questionsGettersRouter from './getters'\r\nimport questionManagementRouter from './manage'\r\n\r\nconst questionRouter = Router()\r\n\r\nquestionRouter.use(questionManagementRouter)\r\nquestionRouter.use(questionsGettersRouter)\r\n\r\nexport default questionRouter","import { Router } from 'express'\r\nimport FileNotFound from '../../../Errors/FileNotFound'\r\nimport quizzModel from '../../../Models/quizz.model'\r\nimport { Execute } from '../../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../../Errors/HttpMessage'\r\nimport questionMiddleware from './question.middleware'\r\n\r\n\r\nconst questionManagementRouter = Router()\r\n\r\nquestionManagementRouter.post('/', \r\n    /**\r\n     * \r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            \r\n            const id = req.quizz.questions.map(q => q.id).reduce((pv, cv) => pv > cv ? pv : cv, 0) + 1\r\n            req.body.id = id\r\n\r\n            updatedQuizz.questions.push(req.body)\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully added !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquestionManagementRouter.delete('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            updatedQuizz.questions = updatedQuizz.questions.filter(q => q.id !== req.question.id)\r\n\r\n            if(updatedQuizz.questions.length === req.quizz.questions.length) throw new FileNotFound()\r\n\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully deleted !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquestionManagementRouter.put('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const objToChange = req.body\r\n            delete objToChange.id\r\n            const result = Object.assign(req.question, objToChange)\r\n            \r\n            const index = req.quizz.questions.findIndex(q => q.id === result.id)\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            updatedQuizz.questions[index] = result\r\n\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully updated !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nexport default questionManagementRouter","import { Execute } from \"../../../Errors/ErrorSchield\"\r\nimport QuestionIdParameterNotFound from \"./Errors/QuestionIdParameterNotFound\"\r\n\r\n\r\n/**\r\n * @param {Request & { quizz: import('../../../Models/quizz.model').Quizz }} req \r\n * @param {*} res \r\n * @param {*} next \r\n */\r\nexport default function(req, res, next) {\r\n    Execute(res, () => {\r\n        if(!req.params.question) throw new QuestionIdParameterNotFound()\r\n        const result = req.quizz.questions.find(q => q.id === req.params.question)\r\n    \r\n        if(!result) throw new FileNotFound()\r\n    \r\n        req.question = result\r\n        next()\r\n    })\r\n}","import { Router } from 'express'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport quizzMiddleware from './quizz.middleware'\r\n\r\nconst quizzGettersRouter = Router()\r\n\r\n\r\n\r\nquizzGettersRouter.get('/:quizz', quizzMiddleware, (req, res) => {\r\n    new HttpMessage(req.quizz).send(res)\r\n})\r\n\r\nexport default quizzGettersRouter\r\n","import { Router } from 'express'\r\nimport quizzGettersRouter from './getters'\r\nimport quizzManageRouter from './manage'\r\nimport questionRouter from './Question'\r\nimport quizzMiddleware from './quizz.middleware'\r\n\r\nconst quizzRouter = Router()\r\n\r\nquizzRouter.use(quizzManageRouter)\r\nquizzRouter.use(quizzGettersRouter)\r\n\r\nquizzRouter.use('/:quizz/question', quizzMiddleware, questionRouter)\r\n\r\nexport default quizzRouter","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport quizzModel from '../../Models/quizz.model'\r\nimport quizzMiddleware from './quizz.middleware'\r\nimport userModel from \"../../Models/user.model\";\r\nimport FileNotFound from \"../../Errors/FileNotFound\";\r\n\r\n\r\nconst quizzManageRouter = Router()\r\n\r\n\r\nquizzManageRouter.get('/all', (req, res) => {\r\n\r\n    const result = quizzModel.getAll(u => u != null)\r\n    if(!result) throw new FileNotFound()\r\n    new HttpMessage(result).send(res)\r\n})\r\n\r\n\r\nquizzManageRouter.post('/', (req, res) => {\r\n    Execute(res, () => {\r\n        quizzModel.add(req.body)\r\n        new HttpMessage(\"Quizz added successfully !\").send(res)\r\n    })\r\n})\r\n\r\nquizzManageRouter.put('/:quizz', quizzMiddleware, \r\n    /**\r\n     * \r\n     * @param { import('express').Request & { quizz: import('../../Models/quizz.model').Quizz }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            req.body.id = req.quizz.id\r\n            quizzModel.update(req.body)\r\n\r\n            new HttpMessage(\"Quizz updated successfully !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquizzManageRouter.delete('/:quizz', quizzMiddleware, \r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            quizzModel.delete(req.params.quizz)\r\n\r\n            new HttpMessage(\"Quizz deleted successfully !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\n\r\n\r\nexport default quizzManageRouter\r\n","import { Execute } from \"../../Errors/ErrorSchield\"\r\nimport quizzModel from \"../../Models/quizz.model\"\r\nimport FileNotFound from '../../Errors/FileNotFound'\r\nimport { QuizzIdParameterMustBeInt } from \"./Errors/QuizzIdParameterMustBeInt\"\r\nimport QuizzIdParameterNotFound from \"./Errors/QuizzIdParameterNotFound\"\r\n\r\nexport default (req, res, next) => {\r\n    Execute(res, () => {\r\n        if(!req.params.quizz) throw new QuizzIdParameterNotFound()\r\n        req.params.quizz = parseInt(req.params.quizz)\r\n        if(isNaN(req.params.quizz)) throw new QuizzIdParameterMustBeInt()\r\n    \r\n        const result = quizzModel.getOne(q => q.id === req.params.quizz)\r\n        if(!result) throw new FileNotFound()\r\n\r\n        req.quizz = result\r\n        next()\r\n    })\r\n}","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport FileNotFound from '../../Errors/FileNotFound'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport userModel from '../../Models/user.model'\r\nimport IdMustBeANumber from '../BasicErrors/IdMustBeANumber'\r\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\r\n\r\nconst gettersUsersRouter = Router()\r\n\r\ngettersUsersRouter.get('/all', ((req, res) => {\r\n\r\n    const result = userModel.getAll(u => u != null);\r\n    if(!result) throw new FileNotFound()\r\n    new HttpMessage(result).send(res)\r\n\r\n\r\n}));\r\n\r\n\r\ngettersUsersRouter.get('/:id', (req, res, next) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n        req.params.id = parseInt(req.params.id)\r\n        if(isNaN(req.params.id)) throw new IdMustBeANumber()\r\n\r\n        const result = userModel.getOne(u => u.id === req.params.id)\r\n\r\n        if(!result) throw new FileNotFound()\r\n\r\n        new HttpMessage(result).send(res)\r\n\r\n\r\n    });\r\n    next();\r\n})\r\n\r\n\r\n\r\n\r\n\r\nexport default gettersUsersRouter\r\n","import { Router } from 'express'\r\nimport gettersUsersRouter from './getters'\r\nimport manageUser from './manage'\r\n\r\nconst userRouter = Router()\r\n\r\n\r\nuserRouter.use(gettersUsersRouter)\r\nuserRouter.use(manageUser)\r\n\r\n\r\nexport default userRouter\r\n","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport userModel from '../../Models/user.model'\r\nimport IdParameterNotFound from '../BasicErrors/IdParameterNotFound'\r\n\r\nconst manageUser = Router()\r\n\r\nmanageUser.post('/', (req, res) => {\r\n    Execute(res, () => {\r\n        userModel.add(req.body)\r\n        new HttpMessage(\"User added successfully !\").send(res)\r\n    })\r\n})\r\n\r\nmanageUser.put('/:id', (req, res) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n\r\n        req.body.id = req.params.id\r\n        userModel.update(req.body)\r\n\r\n        new HttpMessage(\"User udpated successfully\").send(res)\r\n    })\r\n})\r\n\r\nmanageUser.delete('/:id', (req, res) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n        userModel.delete(req.params.id)\r\n        new HttpMessage(\"User deleted successfully\").send(res)\r\n    })\r\n})\r\n\r\nexport default manageUser","import {Router} from \"express\";\r\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\r\nimport FileNotFound from \"../../Errors/FileNotFound\";\r\nimport HttpMessage from \"../../Errors/HttpMessage\";\r\nimport IdMustBeANumber from \"../BasicErrors/IdMustBeANumber\";\r\n\r\nconst gettersUserAndQuizRouter = Router();\r\n\r\n\r\ngettersUserAndQuizRouter.get('/all', ((req, res, /*next*/) => {\r\n    try {\r\n        const result = userAndQuizModel.getAll(u => u.id_user != null);\r\n        if(!result) throw new FileNotFound()\r\n        new HttpMessage(result).send(res)\r\n        //next();\r\n    } catch (err) {\r\n        res.status(500).json(err);\r\n    }\r\n}));\r\n\r\ngettersUserAndQuizRouter.get('/user/:id', ((req, res, next) => {\r\n\r\n    if(!req.params.id) throw new IdParameterNotFound()\r\n    req.params.id = parseInt(req.params.id)\r\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\r\n\r\n    const result = userAndQuizModel.getOne(u => u.id_user === req.params.id)\r\n\r\n    if(!result) throw new FileNotFound()\r\n\r\n    new HttpMessage(result).send(res)\r\n\r\n    next();\r\n}));\r\n\r\n\r\ngettersUserAndQuizRouter.get('/quiz/:id', ((req, res, next) => {\r\n\r\n    if(!req.params.id) throw new IdParameterNotFound()\r\n    req.params.id = parseInt(req.params.id)\r\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\r\n\r\n    const result = userAndQuizModel.getAll(u => u.answer.some(quiz => quiz.id_question === id));\r\n\r\n    if(!result) throw new FileNotFound()\r\n\r\n    new HttpMessage(result).send(res)\r\n\r\n    next();\r\n}));\r\n\r\n\r\n\r\nexport default gettersUserAndQuizRouter;\r\n\r\n","import { Router } from 'express'\r\nimport gettersUserAndQuizRouter from \"./getters\";\r\nimport manageUserAndQuizRouter from './manage'\r\n\r\n\r\nconst userAndQuizRouter = Router()\r\n\r\n\r\nuserAndQuizRouter.use(gettersUserAndQuizRouter);\r\nuserAndQuizRouter.use(manageUserAndQuizRouter);\r\n\r\n\r\nexport default userAndQuizRouter\r\n","import { Router } from 'express'\r\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\r\nimport HttpMessage from \"../../Errors/HttpMessage\";\r\nimport IdParameterNotFound from \"../BasicErrors/IdParameterNotFound\";\r\n\r\n\r\n\r\nconst manageUserAndQuizRouter = Router();\r\n\r\n\r\nmanageUserAndQuizRouter.post('/', (req, res) => {\r\n\r\n    userAndQuizModel.add(req.body);\r\n    new HttpMessage(\"UserAndQuiz added successfully !\").send(res)\r\n});\r\n\r\nmanageUserAndQuizRouter.put('/:id', (req, res) => {\r\n\r\n    if(!req.params.id) throw new IdParameterNotFound()\r\n\r\n\r\n    req.body.id = req.params.id\r\n    //userAndQuizModel.update_second(req.params.id, req.body)\r\n    userAndQuizModel.update(req.body)\r\n\r\n    new HttpMessage(\"UserAndQuiz udpated successfully\").send(res)\r\n\r\n});\r\n\r\nmanageUserAndQuizRouter.delete('/:id', (req, res) => {\r\n    if(!req.params.id) throw new IdParameterNotFound()\r\n    userAndQuizModel.delete(req.params.id)\r\n    new HttpMessage(\"UserAndQuiz deleted successfully\").send(res)\r\n});\r\n\r\n\r\nexport default manageUserAndQuizRouter;\r\n","import { Router } from 'express'\r\nimport quizzRouter from './Quizz'\r\nimport userRouter from './User'\r\nimport userAndQuizRouter from './UserAndQuiz'\r\n\r\nconst apiRouter = Router()\r\n\r\n\r\napiRouter.use('/quizz', quizzRouter)\r\napiRouter.use('/user', userRouter)\r\napiRouter.use('/userandquiz', userAndQuizRouter)\r\n\r\nexport default apiRouter\r\n","import Joi from '@hapi/joi'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nimport FileNotFound from '../Errors/FileNotFound'\r\nimport IdAlreadyUsed from './Errors/IdAlreadyUsed'\r\nimport InvalidSchemeError from './Errors/InvalidScheme'\r\n\r\n/**\r\n * @class\r\n * @template T\r\n */\r\nexport default class BaseModel {\r\n\r\n    /**\r\n     * @param {string} name \r\n     * @param { Joi.ObjectSchema<any> } model \r\n     */\r\n    constructor(name, model) {\r\n        this.name = name\r\n        this.filename = path.resolve(`Database/${name}.dbb.json`)\r\n        console.log(this.name)\r\n        console.log(this.filename)\r\n        this.model = model\r\n        this.content = []\r\n\r\n        if(!fs.existsSync(this.filename))\r\n            fs.writeFileSync(this.filename, '[]')\r\n    }\r\n\r\n    /**\r\n     * @param {T} obj \r\n     */\r\n    add(obj) {\r\n        this.load()\r\n        if(!obj.id) obj.id = this.content.map(o => o.id).reduce((pv,cv) => pv > cv ? pv : cv, 0) + 1\r\n\r\n        const result = this.model.validate(obj)\r\n        if(result.error) throw new InvalidSchemeError(result.error)\r\n\r\n\r\n        console.log(this.content.find(d => parseInt(d.id) === parseInt(result.value.id)))\r\n\r\n        if(this.content.find(d => d.id === result.value.id)) throw new IdAlreadyUsed();\r\n\r\n        console.log(\"bonjour\")\r\n        this.content.push(result.value)\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {T} obj \r\n     */\r\n    update(obj) {\r\n        this.load()\r\n        const result = this.model.validate(obj)\r\n        if(result.error) throw new InvalidSchemeError(result.error)\r\n        \r\n        const i = this.content.findIndex(o => parseInt(o.id) === parseInt(obj.id))\r\n\r\n        if(i === -1) throw new FileNotFound();\r\n\r\n        this.content[i] = obj\r\n        this.save()\r\n    }\r\n\r\n\r\n    delete(objId) {\r\n        this.load()\r\n        const i = this.content.findIndex(p => p.id === objId)\r\n        if(i === -1) throw new FileNotFound();\r\n\r\n        this.content = this.content.filter(o => o.id !== objId)\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate \r\n     */\r\n    deleteAll(predicate) {\r\n        this.load()\r\n        this.content = this.content.filter(o => !predicate(o))\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate\r\n     * @returns {T}\r\n     */\r\n    getOne(predicate) {\r\n        this.load()\r\n        return this.content.find(predicate)\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate \r\n     * @returns {T}\r\n     */\r\n    getAll(predicate) {\r\n        this.load()\r\n        return this.content.filter(predicate)\r\n    }\r\n\r\n\r\n\r\n    save() {\r\n        fs.writeFileSync(this.filename, JSON.stringify(this.content))\r\n    }\r\n\r\n    load() {\r\n        const json = fs.readFileSync(this.filename)\r\n        this.content = JSON.parse(json)\r\n    }\r\n\r\n\r\n\r\n}\r\n","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdAlreadyUsed extends BadRequest {\r\n    \r\n    constructor() {\r\n        super()\r\n        this.statusCode = \"400.2\"\r\n        this.message = \"The id provided for this object already used for another one\"\r\n    }\r\n}","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class InvalidSchemeError extends BadRequest {\r\n    \r\n    constructor(error) {\r\n        super()\r\n        this.statusCode = \"400.1\"\r\n        this.data = error\r\n        this.message = \"The provided object is invalid\"\r\n    }\r\n}","import HttpMessage from \"./HttpMessage\";\r\n\r\nexport default class BadRequest extends HttpMessage {\r\n\r\n    constructor() {\r\n        super({})\r\n        this.code = 400\r\n        this.success = false\r\n        this.statusCode = \"400\"\r\n    }\r\n}","export function Execute(res, action) {\r\n    try {\r\n        action()\r\n    } catch (error) {\r\n        if(error.send) error.send(res)\r\n        else {\r\n            console.error(error)\r\n            res.sendStatus(500)\r\n        }\r\n    }\r\n}","import HttpMessage from \"./HttpMessage\";\r\n\r\nexport default class FileNotFound extends HttpMessage {\r\n    constructor() {\r\n        super(\"File not found\")\r\n        this.code = 404;\r\n        this.success = false\r\n        this.statusCode = \"404\"\r\n        this.message = \"The element you search for were not found.\"\r\n    }\r\n}","export default class HttpMessage {\r\n\r\n    constructor(data) {\r\n        this.success = true\r\n        this.message = \"Success\"\r\n        this.statusCode = \"200\"\r\n        this.data = data\r\n        this.code = 200\r\n    }\r\n\r\n    send(res) {\r\n        res.status(this.code).json({\r\n            success: this.success, \r\n            statusCode: this.statusCode,\r\n            message: this.message,\r\n            data: this.data\r\n        })\r\n    }\r\n}","import BaseModel from \"../Database/BaseModel\";\r\nimport joi from '@hapi/joi'\r\n\r\n\r\n/**\r\n * @typedef {{\r\n * id: string,\r\n * question_name: string\r\n * type: number,\r\n * answer: {\r\n *      is_correct: boolean,\r\n *      data: string \r\n * }[]\r\n * }} Question\r\n */\r\n\r\n/**\r\n * @typedef {{\r\n * id: number,\r\n * name: string,\r\n * difficulty: number,\r\n * questions: Question[]\r\n * }} Quizz\r\n */\r\n\r\n/** @type { BaseModel<Quizz> } */\r\nconst quizzModel = new BaseModel('quizz', joi.object({\r\n    id: joi.number().integer().min(0).required(),\r\n    name: joi.string().required(),\r\n    difficulty: joi.number().integer().min(0).max(3).default(0),\r\n    privacy: joi.object({\r\n        is_public: joi.boolean().default(true),\r\n        users_access: joi.array().items(joi.number())\r\n    }),\r\n\r\n    questions: joi.array().items(joi.object({\r\n        id: joi.number().integer().min(0).required(),\r\n        question_name: joi.string().required(),\r\n        type: joi.number().integer().min(0).max(1).default(0),  // 0 pour txt, 1 pour image\r\n        answer: joi.array().items(joi.object({\r\n            id_answer:  joi.number().integer().min(1).max(4).required(),\r\n            is_correct: joi.boolean().default(false),\r\n            data: joi.string().required()\r\n        })).max(4).required()\r\n    })).default([])\r\n}))\r\n\r\nexport default quizzModel\r\n","import BaseModel from \"../Database/BaseModel\";\r\nimport joi from '@hapi/joi'\r\n\r\n\r\n/** \r\n * @typedef {{ \r\n * id: number, \r\n * surname: string, \r\n * name: string, \r\n * handicap: number, \r\n * font_size: number,\r\n * birthday: Date, \r\n * size_font_config: { \r\n *      name: string, \r\n *      size: number, \r\n *      default: boolean }[] \r\n * }} User \r\n * */\r\n\r\n\r\n/** @type { BaseModel<User> } */\r\nconst userModel = new BaseModel('users', joi.object({\r\n    id: joi.number().integer().min(0).required(),\r\n    surname: joi.string().required(),\r\n    name: joi.string().required(),\r\n    handicap: joi.number().integer().min(0).max(5).default(5),\r\n    font_size: joi.number().default(40),\r\n    birthday: joi.date().default(\"1962-12-19\"),\r\n    image_url: joi.string().default(\"https://unsplash.com/photos/75xPHEQBmvA/download?force=true&w=1920\"),\r\n    size_font_configs: joi.array().items(joi.object({\r\n        name: joi.string().required(),\r\n        size: joi.number().required(),\r\n        default: joi.boolean().default(false)\r\n    }))\r\n}))\r\n\r\nexport default userModel\r\n","import BaseModel from \"../Database/BaseModel\";\r\nimport joi from '@hapi/joi'\r\n\r\n\r\nconst userAndQuizModel = new BaseModel('userAndQuiz', joi.object({\r\n    id: joi.number().integer().min(0).required(),\r\n    id_user: joi.number().integer().min(0).required(),\r\n    played_quizzes: joi.array().items(joi.object({\r\n        id_quiz: joi.number().integer().min(0).required(),\r\n        score_user: joi.number().integer().min(0).required(),\r\n\r\n        user_answers: joi.array().items(joi.object({\r\n            id_question: joi.number().integer().min(0).required(),\r\n            response_user: joi.number().integer().min(1).max(4).required()\r\n        })).default([])\r\n    })).default([])\r\n}))\r\n\r\nexport default userAndQuizModel\r\n","import express from 'express'\r\nimport cors from 'cors'\r\nimport bodyParser from 'body-parser'\r\nimport apiRouter from './API'\r\nimport morgan from 'morgan'\r\n\r\nconst PORT = process.env.PORT || 3000\r\n\r\n\r\nconst app = express()\r\n\r\napp.disable('x-powered-by')\r\napp.use(cors({}))\r\napp.use(bodyParser.json())\r\napp.use(morgan('[:date[iso]] :method :url :status :response-time ms - :res[content-length]'))\r\n\r\n\r\napp.use(apiRouter)\r\n\r\napp.get('/', (req, res) => {\r\n     res.sendStatus(200)\r\n})\r\n\r\n\r\n\r\napp.use('*', (req, res) => res.status(404).end())\r\napp.listen(PORT, () => {\r\n    console.log(\"Server started successfully on : http://localhost:\" + PORT)\r\n})","module.exports = require(\"@hapi/joi\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"fs\");","module.exports = require(\"morgan\");","module.exports = require(\"path\");"],"sourceRoot":""}