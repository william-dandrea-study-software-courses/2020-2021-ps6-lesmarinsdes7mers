{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/API/BasicErrors/IdMustBeANumber.js","webpack:///./src/API/BasicErrors/IdParameterNotFound.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterMustBeInt.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/Errors/QuestionIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/getters.js","webpack:///./src/API/Quizz/Question/index.js","webpack:///./src/API/Quizz/Question/manage.js","webpack:///./src/API/Quizz/Question/question.middleware.js","webpack:///./src/API/Quizz/getters.js","webpack:///./src/API/Quizz/index.js","webpack:///./src/API/Quizz/manage.js","webpack:///./src/API/Quizz/quizz.middleware.js","webpack:///./src/API/User/getters.js","webpack:///./src/API/User/index.js","webpack:///./src/API/User/manage.js","webpack:///./src/API/UserAndQuiz/getters.js","webpack:///./src/API/UserAndQuiz/index.js","webpack:///./src/API/UserAndQuiz/manage.js","webpack:///./src/API/index.js","webpack:///./src/Database/BaseModel.js","webpack:///./src/Database/Errors/IdAlreadyUsed.js","webpack:///./src/Database/Errors/InvalidScheme.js","webpack:///./src/Errors/BadRequest.js","webpack:///./src/Errors/ErrorSchield.js","webpack:///./src/Errors/FileNotFound.js","webpack:///./src/Errors/HttpMessage.js","webpack:///./src/Models/quizz.model.js","webpack:///./src/Models/user.model.js","webpack:///./src/Models/userAndQuizModel.js","webpack:///./src/index.js","webpack:///external \"@hapi/joi\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"joi\"","webpack:///external \"morgan\"","webpack:///external \"path\""],"names":["IdMustBeANumber","BadRequest","constructor","httpContent","success","message","statusCode","IdParameterNotFound","QuizzIdParameterMustBeInt","QuizzIdParameterNotFound","QuestionIdParameterNotFound","questionsGettersRouter","Router","get","questionMiddleware","req","res","HttpMessage","question","send","questionRouter","use","questionManagementRouter","post","Execute","updatedQuizz","Object","assign","quizz","id","questions","map","q","reduce","pv","cv","body","push","quizzModel","update","delete","filter","length","FileNotFound","put","objToChange","result","index","findIndex","next","params","find","quizzGettersRouter","getAll","quiz","privacy","is_public","err","status","json","parseInt","isNaN","users_access","element","quizzMiddleware","quizzRouter","quizzManageRouter","u","add","getOne","gettersUsersRouter","userModel","userRouter","manageUser","gettersUserAndQuizRouter","userAndQuizModel","id_user","answer","some","id_question","userAndQuizRouter","manageUserAndQuizRouter","alls","uaq","forEach","oneUaQ","playedQuizForThis","played_quizzes","item","object","id_quiz","splice","apiRouter","BaseModel","name","model","filename","path","resolve","console","log","content","fs","existsSync","writeFileSync","obj","load","o","validate","error","InvalidSchemeError","d","value","IdAlreadyUsed","save","i","objId","p","deleteAll","predicate","JSON","stringify","readFileSync","parse","data","code","action","sendStatus","questionImage","joi","number","integer","min","required","question_name","string","max","type","array","items","id_answer","is_correct","boolean","default","questionText","difficulty","alternatives","conditional","is","then","otherwise","surname","handicap","font_size","birthday","date","image_url","allow","note","size_font_configs","size","score_user","user_answers","response_user","PORT","process","env","app","express","disable","cors","bodyParser","morgan","end","listen"],"mappings":";;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAEe,MAAMA,eAAN,SAA8BC,0DAA9B,CAAyC;AAEpDC,aAAW,GAAG;AACV;AACA,SAAKC,WAAL,GAAmB;AACfC,aAAO,EAAE,KADM;AAEfC,aAAO,EAAE,sDAFM;AAGfC,gBAAU,EAAE;AAHG,KAAnB;AAKH;;AATmD,C;;;;;;;;;;;;ACFxD;AAAA;AAAA;AAAA;AAEe,MAAMC,mBAAN,SAAkCN,0DAAlC,CAA6C;AAExDC,aAAW,GAAG;AACV;AACA,SAAKC,WAAL,GAAmB;AACfC,aAAO,EAAE,KADM;AAEfC,aAAO,EAAE,gDAFM;AAGfC,gBAAU,EAAE;AAHG,KAAnB;AAKH;;AATuD,C;;;;;;;;;;;;ACF5D;AAAA;AAAA;AAAA;AAEO,MAAME,yBAAN,SAAwCR,oEAAxC,CAAwD;AAC3DE,aAAW,GAAG;AACV;AACA,SAAKG,OAAL,GAAe,kDAAf;AACA,SAAKC,UAAL,GAAkB,SAAlB;AACH;;AAL0D,C;;;;;;;;;;;;ACF/D;AAAA;AAAA;AAAA;AAEe,MAAMG,wBAAN,SAAuCF,wEAAvC,CAA2D;AACtEL,aAAW,GAAG;AACV;AACA,SAAKG,OAAL,GAAe,sDAAf;AACA,SAAKC,UAAL,GAAkB,SAAlB;AACH;;AALqE,C;;;;;;;;;;;;ACF1E;AAAA;AAAA;AAAA;AAEe,MAAMI,2BAAN,SAA0CH,wEAA1C,CAA8D;AAEzEL,aAAW,GAAG;AACV;AACA,SAAKI,UAAL,GAAkB,SAAlB;AACA,SAAKD,OAAL,GAAe,yDAAf;AACH;;AANwE,C;;;;;;;;;;;;ACF7E;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA,MAAMM,sBAAsB,GAAGC,sDAAM,EAArC;AAEAD,sBAAsB,CAACE,GAAvB,CAA2B,YAA3B,EAAyCC,4DAAzC;AACI;AACJ;AACA;AACA;AACI,CAACC,GAAD,EAAMC,GAAN,KAAc;AACV,MAAIC,2DAAJ,CAAgBF,GAAG,CAACG,QAApB,EAA8BC,IAA9B,CAAmCH,GAAnC;AACH,CAPL;AAUeL,qFAAf,E;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA,MAAMS,cAAc,GAAGR,sDAAM,EAA7B;AAEAQ,cAAc,CAACC,GAAf,CAAmBC,+CAAnB;AACAF,cAAc,CAACC,GAAf,CAAmBV,gDAAnB;AAEeS,6EAAf,E;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA,MAAME,wBAAwB,GAAGV,sDAAM,EAAvC;AAEAU,wBAAwB,CAACC,IAAzB,CAA8B,GAA9B;AACI;AACJ;AACA;AACA;AACA;AACI,CAACR,GAAD,EAAMC,GAAN,KAAc;AACVQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,UAAMS,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,GAAG,CAACa,KAAtB,CAArB;AAEA,UAAMC,EAAE,GAAGd,GAAG,CAACa,KAAJ,CAAUE,SAAV,CAAoBC,GAApB,CAAwBC,CAAC,IAAIA,CAAC,CAACH,EAA/B,EAAmCI,MAAnC,CAA0C,CAACC,EAAD,EAAKC,EAAL,KAAYD,EAAE,GAAGC,EAAL,GAAUD,EAAV,GAAeC,EAArE,EAAyE,CAAzE,IAA8E,CAAzF;AACApB,OAAG,CAACqB,IAAJ,CAASP,EAAT,GAAcA,EAAd;AAEAJ,gBAAY,CAACK,SAAb,CAAuBO,IAAvB,CAA4BtB,GAAG,CAACqB,IAAhC;AACAE,+DAAU,CAACC,MAAX,CAAkBd,YAAlB;AACA,QAAIR,2DAAJ,CAAgB,+BAAhB,EAAiDE,IAAjD,CAAsDH,GAAtD;AACH,GATM,CAAP;AAUH,CAjBL;AAoBAM,wBAAwB,CAACkB,MAAzB,CAAgC,YAAhC,EAA8C1B,4DAA9C;AACI;AACJ;AACA;AACA;AACI,CAACC,GAAD,EAAMC,GAAN,KAAc;AACVQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,UAAMS,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,GAAG,CAACa,KAAtB,CAArB;AACAH,gBAAY,CAACK,SAAb,GAAyBL,YAAY,CAACK,SAAb,CAAuBW,MAAvB,CAA8BT,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASd,GAAG,CAACG,QAAJ,CAAaW,EAAzD,CAAzB;AAEA,QAAGJ,YAAY,CAACK,SAAb,CAAuBY,MAAvB,KAAkC3B,GAAG,CAACa,KAAJ,CAAUE,SAAV,CAAoBY,MAAzD,EAAiE,MAAM,IAAIC,4DAAJ,EAAN;AAEjEL,+DAAU,CAACC,MAAX,CAAkBd,YAAlB;AACA,QAAIR,2DAAJ,CAAgB,iCAAhB,EAAmDE,IAAnD,CAAwDH,GAAxD;AACH,GARM,CAAP;AASH,CAfL;AAkBAM,wBAAwB,CAACsB,GAAzB,CAA6B,YAA7B,EAA2C9B,4DAA3C;AACI;AACJ;AACA;AACA;AACI,CAACC,GAAD,EAAMC,GAAN,KAAc;AACVQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,UAAM6B,WAAW,GAAG9B,GAAG,CAACqB,IAAxB;AACA,WAAOS,WAAW,CAAChB,EAAnB;AACA,UAAMiB,MAAM,GAAGpB,MAAM,CAACC,MAAP,CAAcZ,GAAG,CAACG,QAAlB,EAA4B2B,WAA5B,CAAf;AAEA,UAAME,KAAK,GAAGhC,GAAG,CAACa,KAAJ,CAAUE,SAAV,CAAoBkB,SAApB,CAA8BhB,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASiB,MAAM,CAACjB,EAAnD,CAAd;AACA,UAAMJ,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,GAAG,CAACa,KAAtB,CAArB;AACAH,gBAAY,CAACK,SAAb,CAAuBiB,KAAvB,IAAgCD,MAAhC;AAEAR,+DAAU,CAACC,MAAX,CAAkBd,YAAlB;AACA,QAAIR,2DAAJ,CAAgB,iCAAhB,EAAmDE,IAAnD,CAAwDH,GAAxD;AACH,GAXM,CAAP;AAYH,CAlBL;AAqBeM,uFAAf,E;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;;AACe,yEAASP,GAAT,EAAcC,GAAd,EAAmBiC,IAAnB,EAAyB;AACpCzB,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,QAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWhC,QAAf,EAAyB,MAAM,IAAIR,2EAAJ,EAAN;AACzB,UAAMoC,MAAM,GAAG/B,GAAG,CAACa,KAAJ,CAAUE,SAAV,CAAoBqB,IAApB,CAAyBnB,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASd,GAAG,CAACmC,MAAJ,CAAWhC,QAAlD,CAAf;AAEA,QAAG,CAAC4B,MAAJ,EAAY,MAAM,IAAIH,YAAJ,EAAN;AAEZ5B,OAAG,CAACG,QAAJ,GAAe4B,MAAf;AACAG,QAAI;AACP,GARM,CAAP;AASH,C;;;;;;;;;;;;ACnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMG,kBAAkB,GAAGxC,sDAAM,EAAjC;AAEAwC,kBAAkB,CAACvC,GAAnB,CAAuB,SAAvB,EAAkC,CAACE,GAAD,EAAMC,GAAN,KAAc;AAC5C,MAAI;AACA,UAAM8B,MAAM,GAAGR,2DAAU,CAACe,MAAX,CAAkBC,IAAI,IAAIA,IAAI,CAACC,OAAL,CAAaC,SAAb,KAA2B,IAArD,CAAf;AACA,QAAG,CAACV,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AACZ,QAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AACH,GAJD,CAIE,OAAMyC,GAAN,EAAW;AACTzC,OAAG,CAAC0C,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAArB;AACH;AACJ,CARD;AAUAL,kBAAkB,CAACvC,GAAnB,CAAuB,iBAAvB,EAA0C,CAACE,GAAD,EAAMC,GAAN,KAAc;AAEpD,MAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,mBAAJ,EAAN;AACnBQ,KAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,MAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAGzB,QAAM8C,MAAM,GAAGR,2DAAU,CAACe,MAAX,CAAkBC,IAAI,IACjCA,IAAI,CAACC,OAAL,CAAaC,SAAb,KAA2B,KAA3B,IAAoCF,IAAI,CAACC,OAAL,CAAaO,YAAb,CAA0BX,IAA1B,CAA+BY,OAAO,IAAIA,OAAO,KAAKhD,GAAG,CAACmC,MAAJ,CAAWrB,EAAjE,CAApC,IAEAyB,IAAI,CAACC,OAAL,CAAaC,SAAb,KAA2B,IAHhB,CAAf;AAMA,MAAG,CAACV,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZ,MAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AACH,CAhBD;AAmBAoC,kBAAkB,CAACvC,GAAnB,CAAuB,SAAvB,EAAkCmD,yDAAlC,EAAmD,CAACjD,GAAD,EAAMC,GAAN,KAAc;AAC7D,MAAIC,2DAAJ,CAAgBF,GAAG,CAACa,KAApB,EAA2BT,IAA3B,CAAgCH,GAAhC;AACH,CAFD;AAOeoC,iFAAf,E;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA,MAAMa,WAAW,GAAGrD,sDAAM,EAA1B;AAEAqD,WAAW,CAAC5C,GAAZ,CAAgB6C,+CAAhB;AACAD,WAAW,CAAC5C,GAAZ,CAAgB+B,gDAAhB;AAEAa,WAAW,CAAC5C,GAAZ,CAAgB,kBAAhB,EAAoC2C,yDAApC,EAAqD5C,iDAArD;AAEe6C,0EAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,MAAMC,iBAAiB,GAAGtD,sDAAM,EAAhC;AAGAsD,iBAAiB,CAACrD,GAAlB,CAAsB,MAAtB,EAA8B,CAACE,GAAD,EAAMC,GAAN,KAAc;AAExC,QAAM8B,MAAM,GAAGR,2DAAU,CAACe,MAAX,CAAkBc,CAAC,IAAIA,CAAC,IAAI,IAA5B,CAAf;AACA,MAAG,CAACrB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AACZ,MAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AACH,CALD;AAQAkD,iBAAiB,CAAC3C,IAAlB,CAAuB,GAAvB,EAA4B,CAACR,GAAD,EAAMC,GAAN,KAAc;AACtCQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACfsB,+DAAU,CAAC8B,GAAX,CAAerD,GAAG,CAACqB,IAAnB;AACA,QAAInB,2DAAJ,CAAgB,4BAAhB,EAA8CE,IAA9C,CAAmDH,GAAnD;AACH,GAHM,CAAP;AAIH,CALD;AAOAkD,iBAAiB,CAACtB,GAAlB,CAAsB,SAAtB,EAAiCoB,yDAAjC;AACI;AACJ;AACA;AACA;AACA;AACI,CAACjD,GAAD,EAAMC,GAAN,KAAc;AACVQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACfD,OAAG,CAACqB,IAAJ,CAASP,EAAT,GAAc+B,QAAQ,CAAC7C,GAAG,CAACa,KAAJ,CAAUC,EAAX,CAAtB;AACAS,+DAAU,CAACC,MAAX,CAAkBxB,GAAG,CAACqB,IAAtB;AAEA,QAAInB,2DAAJ,CAAgB,8BAAhB,EAAgDE,IAAhD,CAAqDH,GAArD;AACH,GALM,CAAP;AAMH,CAbL;AAgBAkD,iBAAiB,CAAC1B,MAAlB,CAAyB,SAAzB,EAAoCwB,yDAApC,EACI,CAACjD,GAAD,EAAMC,GAAN,KAAc;AACVQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACfsB,+DAAU,CAACE,MAAX,CAAkBzB,GAAG,CAACmC,MAAJ,CAAWtB,KAA7B;AAEA,QAAIX,2DAAJ,CAAgB,8BAAhB,EAAgDE,IAAhD,CAAqDH,GAArD;AACH,GAJM,CAAP;AAKH,CAPL;AAYekD,gFAAf,E;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEe,gEAACnD,GAAD,EAAMC,GAAN,EAAWiC,IAAX,KAAoB;AAC/BzB,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,QAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWtB,KAAf,EAAsB,MAAM,IAAInB,wEAAJ,EAAN;AACtBM,OAAG,CAACmC,MAAJ,CAAWtB,KAAX,GAAmBgC,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWtB,KAAZ,CAA3B;AACA,QAAGiC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWtB,KAAZ,CAAR,EAA4B,MAAM,IAAIpB,2FAAJ,EAAN;AAE5B,UAAMsC,MAAM,GAAGR,2DAAU,CAAC+B,MAAX,CAAkBrC,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASd,GAAG,CAACmC,MAAJ,CAAWtB,KAA3C,CAAf;AACA,QAAG,CAACkB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZ5B,OAAG,CAACa,KAAJ,GAAYkB,MAAZ;AACAG,QAAI;AACP,GAVM,CAAP;AAWH,CAZD,E;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMqB,kBAAkB,GAAG1D,sDAAM,EAAjC;AAEA0D,kBAAkB,CAACzD,GAAnB,CAAuB,MAAvB,EAAgC,CAACE,GAAD,EAAMC,GAAN,KAAc;AAE1C,QAAM8B,MAAM,GAAGyB,0DAAS,CAAClB,MAAV,CAAiBc,CAAC,IAAIA,CAAC,IAAI,IAA3B,CAAf;AACA,MAAG,CAACrB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AACZ,MAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AAGH,CAPD;AAUAsD,kBAAkB,CAACzD,GAAnB,CAAuB,MAAvB,EAA+B,CAACE,GAAD,EAAMC,GAAN,EAAWiC,IAAX,KAAoB;AAC/CzB,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,QAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,mBAAJ,EAAN;AACnBQ,OAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,QAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAEzB,UAAM8C,MAAM,GAAGyB,0DAAS,CAACF,MAAV,CAAiBF,CAAC,IAAIA,CAAC,CAACtC,EAAF,KAASd,GAAG,CAACmC,MAAJ,CAAWrB,EAA1C,CAAf;AAEA,QAAG,CAACiB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZ,QAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AAGH,GAZM,CAAP;AAaAiC,MAAI;AACP,CAfD;AAqBeqB,iFAAf,E;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA,MAAME,UAAU,GAAG5D,sDAAM,EAAzB;AAGA4D,UAAU,CAACnD,GAAX,CAAeiD,gDAAf;AACAE,UAAU,CAACnD,GAAX,CAAeoD,+CAAf;AAGeD,yEAAf,E;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA,MAAMC,UAAU,GAAG7D,sDAAM,EAAzB;AAEA6D,UAAU,CAAClD,IAAX,CAAgB,GAAhB,EAAqB,CAACR,GAAD,EAAMC,GAAN,KAAc;AAC/BQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACfuD,8DAAS,CAACH,GAAV,CAAcrD,GAAG,CAACqB,IAAlB;AACA,QAAInB,2DAAJ,CAAgB,2BAAhB,EAA6CE,IAA7C,CAAkDH,GAAlD;AACH,GAHM,CAAP;AAIH,CALD;AAOAyD,UAAU,CAAC7B,GAAX,CAAe,MAAf,EAAuB,CAAC7B,GAAD,EAAMC,GAAN,KAAc;AACjCQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,QAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AAEnBQ,OAAG,CAACqB,IAAJ,CAASP,EAAT,GAAc+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAtB;AACA0C,8DAAS,CAAChC,MAAV,CAAiBxB,GAAG,CAACqB,IAArB;AAEA,QAAInB,2DAAJ,CAAgB,2BAAhB,EAA6CE,IAA7C,CAAkDH,GAAlD;AACH,GAPM,CAAP;AAQH,CATD;AAWAyD,UAAU,CAACjC,MAAX,CAAkB,MAAlB,EAA0B,CAACzB,GAAD,EAAMC,GAAN,KAAc;AACpCQ,sEAAO,CAACR,GAAD,EAAM,MAAM;AACf,QAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AACnBgE,8DAAS,CAAC/B,MAAV,CAAiBzB,GAAG,CAACmC,MAAJ,CAAWrB,EAA5B;AACA,QAAIZ,2DAAJ,CAAgB,2BAAhB,EAA6CE,IAA7C,CAAkDH,GAAlD;AACH,GAJM,CAAP;AAKH,CAND;AAQeyD,yEAAf,E;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA,MAAMC,wBAAwB,GAAG9D,sDAAM,EAAvC;AAGA8D,wBAAwB,CAAC7D,GAAzB,CAA6B,MAA7B,EAAsC,CAACE,GAAD,EAAMC,GAAN;AAAW;AAAa;AAC1D,MAAI;AACA,UAAM8B,MAAM,GAAG6B,gEAAgB,CAACtB,MAAjB,CAAwBc,CAAC,IAAIA,CAAC,CAACS,OAAF,IAAa,IAA1C,CAAf;AACA,QAAG,CAAC9B,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AACZ,QAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B,EAHA,CAIA;AACH,GALD,CAKE,OAAOyC,GAAP,EAAY;AACVzC,OAAG,CAAC0C,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAArB;AACH;AACJ,CATD;AAWAiB,wBAAwB,CAAC7D,GAAzB,CAA6B,WAA7B,EAA2C,CAACE,GAAD,EAAMC,GAAN,EAAWiC,IAAX,KAAoB;AAE3D,MAAG,CAAClC,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,mBAAJ,EAAN;AACnBQ,KAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,MAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAEzB,QAAM8C,MAAM,GAAG6B,gEAAgB,CAACN,MAAjB,CAAwBF,CAAC,IAAIA,CAAC,CAACS,OAAF,KAAc7D,GAAG,CAACmC,MAAJ,CAAWrB,EAAtD,CAAf;AAEA,MAAG,CAACiB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZ,MAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AAEAiC,MAAI;AACP,CAbD;AAgBAyB,wBAAwB,CAAC7D,GAAzB,CAA6B,WAA7B,EAA2C,CAACE,GAAD,EAAMC,GAAN,EAAWiC,IAAX,KAAoB;AAE3D,MAAG,CAAClC,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,mBAAJ,EAAN;AACnBQ,KAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,MAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAEzB,QAAM8C,MAAM,GAAG6B,gEAAgB,CAACtB,MAAjB,CAAwBc,CAAC,IAAIA,CAAC,CAACU,MAAF,CAASC,IAAT,CAAcxB,IAAI,IAAIA,IAAI,CAACyB,WAAL,KAAqBlD,EAA3C,CAA7B,CAAf;AAEA,MAAG,CAACiB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZ,MAAI1B,2DAAJ,CAAgB6B,MAAhB,EAAwB3B,IAAxB,CAA6BH,GAA7B;AAEAiC,MAAI;AACP,CAbD;AAiBeyB,uFAAf,E;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA,MAAMM,iBAAiB,GAAGpE,sDAAM,EAAhC;AAGAoE,iBAAiB,CAAC3D,GAAlB,CAAsBqD,gDAAtB;AACAM,iBAAiB,CAAC3D,GAAlB,CAAsB4D,+CAAtB;AAGeD,gFAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,MAAMC,uBAAuB,GAAGrE,sDAAM,EAAtC;AAGAqE,uBAAuB,CAAC1D,IAAxB,CAA6B,GAA7B,EAAkC,CAACR,GAAD,EAAMC,GAAN,KAAc;AAE5C2D,kEAAgB,CAACP,GAAjB,CAAqBrD,GAAG,CAACqB,IAAzB;AACA,MAAInB,2DAAJ,CAAgB,kCAAhB,EAAoDE,IAApD,CAAyDH,GAAzD;AACH,CAJD;AAMAiE,uBAAuB,CAACrC,GAAxB,CAA4B,MAA5B,EAAoC,CAAC7B,GAAD,EAAMC,GAAN,KAAc;AAE9C,MAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AAEnBQ,KAAG,CAACqB,IAAJ,CAASP,EAAT,GAAc+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAtB,CAJ8C,CAK9C;;AACA8C,kEAAgB,CAACpC,MAAjB,CAAwBxB,GAAG,CAACqB,IAA5B;AAEA,MAAInB,2DAAJ,CAAgB,kCAAhB,EAAoDE,IAApD,CAAyDH,GAAzD;AAEH,CAVD;AAYAiE,uBAAuB,CAACzC,MAAxB,CAA+B,MAA/B,EAAuC,CAACzB,GAAD,EAAMC,GAAN,KAAc;AACjD,MAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AACnBoE,kEAAgB,CAACnC,MAAjB,CAAwBzB,GAAG,CAACmC,MAAJ,CAAWrB,EAAnC;AACA,MAAIZ,2DAAJ,CAAgB,kCAAhB,EAAoDE,IAApD,CAAyDH,GAAzD;AACH,CAJD;AAOAiE,uBAAuB,CAACzC,MAAxB,CAA+B,WAA/B,EAA4C,CAACzB,GAAD,EAAMC,GAAN,KAAc;AAGtD,MAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AACnBQ,KAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,MAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAEzB,QAAM8C,MAAM,GAAG6B,gEAAgB,CAACN,MAAjB,CAAwBF,CAAC,IAAIA,CAAC,CAACS,OAAF,KAAc7D,GAAG,CAACmC,MAAJ,CAAWrB,EAAtD,CAAf;AACA,MAAG,CAACiB,MAAJ,EAAY,MAAM,IAAIH,4DAAJ,EAAN;AAEZgC,kEAAgB,CAACnC,MAAjB,CAAwBM,MAAM,CAACjB,EAA/B;AAEA,MAAIZ,2DAAJ,CAAgB,kCAAhB,EAAoDE,IAApD,CAAyDH,GAAzD;AACH,CAbD;AAgBAiE,uBAAuB,CAACzC,MAAxB,CAA+B,WAA/B,EAA4C,CAACzB,GAAD,EAAMC,GAAN,KAAc;AAGtD,MAAG,CAACD,GAAG,CAACmC,MAAJ,CAAWrB,EAAf,EAAmB,MAAM,IAAItB,wEAAJ,EAAN;AACnBQ,KAAG,CAACmC,MAAJ,CAAWrB,EAAX,GAAgB+B,QAAQ,CAAC7C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAxB;AACA,MAAGgC,KAAK,CAAC9C,GAAG,CAACmC,MAAJ,CAAWrB,EAAZ,CAAR,EAAyB,MAAM,IAAI7B,oEAAJ,EAAN;AAGzB,QAAMkF,IAAI,GAAGP,gEAAgB,CAACtB,MAAjB,CAAwB8B,GAAG,IAAIA,GAAG,IAAI,IAAtC,CAAb;AAEAD,MAAI,CAACE,OAAL,CAAaC,MAAM,IAAI;AAEnB,UAAMC,iBAAiB,GAAGD,MAAM,CAACE,cAAjC;AAEAD,qBAAiB,CAACF,OAAlB,CAA0B,UAASI,IAAT,EAAezC,KAAf,EAAsB0C,MAAtB,EAA8B;AACpD,UAAID,IAAI,CAACE,OAAL,KAAiB3E,GAAG,CAACmC,MAAJ,CAAWrB,EAAhC,EAAoC;AAChC4D,cAAM,CAACE,MAAP,CAAc5C,KAAd,EAAqB,CAArB;AACH;AACJ,KAJD;AAKH,GATD;AAWAmC,MAAI,CAACE,OAAL,CAAaC,MAAM,IAAI;AAEnBV,oEAAgB,CAACpC,MAAjB,CAAwB8C,MAAxB;AAEH,GAJD,EArBsD,CA6BtD;;AACA,MAAIpE,2DAAJ,CAAgB,qCAAhB,EAAuDE,IAAvD,CAA4DH,GAA5D;AACH,CA/BD;AAkCeiE,sFAAf,E;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA,MAAMW,SAAS,GAAGhF,sDAAM,EAAxB;AAGAgF,SAAS,CAACvE,GAAV,CAAc,QAAd,EAAwB4C,8CAAxB;AACA2B,SAAS,CAACvE,GAAV,CAAc,OAAd,EAAuBmD,6CAAvB;AACAoB,SAAS,CAACvE,GAAV,CAAc,cAAd,EAA8B2D,oDAA9B;AAEeY,wEAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AACe,MAAMC,SAAN,CAAgB;AAE3B;AACJ;AACA;AACA;AACI3F,aAAW,CAAC4F,IAAD,EAAOC,KAAP,EAAc;AACrB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKE,QAAL,GAAgBC,2CAAI,CAACC,OAAL,CAAc,YAAWJ,IAAK,WAA9B,CAAhB;AACAK,WAAO,CAACC,GAAR,CAAY,KAAKN,IAAjB;AACAK,WAAO,CAACC,GAAR,CAAY,KAAKJ,QAAjB;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKM,OAAL,GAAe,EAAf;AAEA,QAAG,CAACC,yCAAE,CAACC,UAAH,CAAc,KAAKP,QAAnB,CAAJ,EACIM,yCAAE,CAACE,aAAH,CAAiB,KAAKR,QAAtB,EAAgC,IAAhC;AACP;AAED;AACJ;AACA;;;AACI5B,KAAG,CAACqC,GAAD,EAAM;AACL,SAAKC,IAAL;AACA,QAAG,CAACD,GAAG,CAAC5E,EAAR,EAAY4E,GAAG,CAAC5E,EAAJ,GAAS,KAAKwE,OAAL,CAAatE,GAAb,CAAiB4E,CAAC,IAAIA,CAAC,CAAC9E,EAAxB,EAA4BI,MAA5B,CAAmC,CAACC,EAAD,EAAIC,EAAJ,KAAWD,EAAE,GAAGC,EAAL,GAAUD,EAAV,GAAeC,EAA7D,EAAiE,CAAjE,IAAsE,CAA/E;AAEZ,UAAMW,MAAM,GAAG,KAAKiD,KAAL,CAAWa,QAAX,CAAoBH,GAApB,CAAf;AACA,QAAG3D,MAAM,CAAC+D,KAAV,EAAiB,MAAM,IAAIC,6DAAJ,CAAuBhE,MAAM,CAAC+D,KAA9B,CAAN;AAEjBV,WAAO,CAACC,GAAR,CAAY,KAAKC,OAAL,CAAalD,IAAb,CAAkB4D,CAAC,IAAInD,QAAQ,CAACmD,CAAC,CAAClF,EAAH,CAAR,KAAmB+B,QAAQ,CAACd,MAAM,CAACkE,KAAP,CAAanF,EAAd,CAAlD,CAAZ;AAEA,QAAG,KAAKwE,OAAL,CAAalD,IAAb,CAAkB4D,CAAC,IAAIA,CAAC,CAAClF,EAAF,KAASiB,MAAM,CAACkE,KAAP,CAAanF,EAA7C,CAAH,EAAqD,MAAM,IAAIoF,6DAAJ,EAAN;AAErD,SAAKZ,OAAL,CAAahE,IAAb,CAAkBS,MAAM,CAACkE,KAAzB;AACA,SAAKE,IAAL;AACH;AAED;AACJ;AACA;;;AACI3E,QAAM,CAACkE,GAAD,EAAM;AACR,SAAKC,IAAL;AACA,UAAM5D,MAAM,GAAG,KAAKiD,KAAL,CAAWa,QAAX,CAAoBH,GAApB,CAAf;AACA,QAAG3D,MAAM,CAAC+D,KAAV,EAAiB,MAAM,IAAIC,6DAAJ,CAAuBhE,MAAM,CAAC+D,KAA9B,CAAN;AAEjB,UAAMM,CAAC,GAAG,KAAKd,OAAL,CAAarD,SAAb,CAAuB2D,CAAC,IAAI/C,QAAQ,CAAC+C,CAAC,CAAC9E,EAAH,CAAR,KAAmB+B,QAAQ,CAAC6C,GAAG,CAAC5E,EAAL,CAAvD,CAAV;AAEA,QAAGsF,CAAC,KAAK,CAAC,CAAV,EAAa,MAAM,IAAIxE,4DAAJ,EAAN;AAEb,SAAK0D,OAAL,CAAac,CAAb,IAAkBV,GAAlB;AACA,SAAKS,IAAL;AACH;;AAGD1E,QAAM,CAAC4E,KAAD,EAAQ;AACV,SAAKV,IAAL;AACA,UAAMS,CAAC,GAAG,KAAKd,OAAL,CAAarD,SAAb,CAAuBqE,CAAC,IAAI;AAClC,aAAQzD,QAAQ,CAACyD,CAAC,CAACxF,EAAH,CAAT,KAAqB+B,QAAQ,CAACwD,KAAD,CAApC;AACH,KAFS,CAAV;AAGA,QAAGD,CAAC,KAAK,CAAC,CAAV,EAAa,MAAM,IAAIxE,4DAAJ,EAAN;AAEb,SAAK0D,OAAL,GAAe,KAAKA,OAAL,CAAa5D,MAAb,CAAoBkE,CAAC,IAAI/C,QAAQ,CAAC+C,CAAC,CAAC9E,EAAH,CAAR,KAAmB+B,QAAQ,CAACwD,KAAD,CAApD,CAAf;AACA,SAAKF,IAAL;AACH;AAED;AACJ;AACA;;;AACII,WAAS,CAACC,SAAD,EAAY;AACjB,SAAKb,IAAL;AACA,SAAKL,OAAL,GAAe,KAAKA,OAAL,CAAa5D,MAAb,CAAoBkE,CAAC,IAAI,CAACY,SAAS,CAACZ,CAAD,CAAnC,CAAf;AACA,SAAKO,IAAL;AACH;AAED;AACJ;AACA;AACA;;;AACI7C,QAAM,CAACkD,SAAD,EAAY;AACd,SAAKb,IAAL;AACA,WAAO,KAAKL,OAAL,CAAalD,IAAb,CAAkBoE,SAAlB,CAAP;AACH;AAED;AACJ;AACA;AACA;;;AACIlE,QAAM,CAACkE,SAAD,EAAY;AACd,SAAKb,IAAL;AACA,WAAO,KAAKL,OAAL,CAAa5D,MAAb,CAAoB8E,SAApB,CAAP;AACH;;AAIDL,MAAI,GAAG;AACHZ,6CAAE,CAACE,aAAH,CAAiB,KAAKR,QAAtB,EAAgCwB,IAAI,CAACC,SAAL,CAAe,KAAKpB,OAApB,CAAhC;AACH;;AAEDK,MAAI,GAAG;AACH,UAAM/C,IAAI,GAAG2C,yCAAE,CAACoB,YAAH,CAAgB,KAAK1B,QAArB,CAAb;AACA,SAAKK,OAAL,GAAemB,IAAI,CAACG,KAAL,CAAWhE,IAAX,CAAf;AACH;;AApG0B,C;;;;;;;;;;;;ACX/B;AAAA;AAAA;AAAA;AAEe,MAAMsD,aAAN,SAA4BhH,0DAA5B,CAAuC;AAElDC,aAAW,GAAG;AACV;AACA,SAAKI,UAAL,GAAkB,OAAlB;AACA,SAAKD,OAAL,GAAe,8DAAf;AACH;;AANiD,C;;;;;;;;;;;;ACFtD;AAAA;AAAA;AAAA;AAEe,MAAMyG,kBAAN,SAAiC7G,0DAAjC,CAA4C;AAEvDC,aAAW,CAAC2G,KAAD,EAAQ;AACf;AACA,SAAKvG,UAAL,GAAkB,OAAlB;AACA,SAAKsH,IAAL,GAAYf,KAAZ;AACA,SAAKxG,OAAL,GAAe,gCAAf;AACH;;AAPsD,C;;;;;;;;;;;;ACF3D;AAAA;AAAA;AAAA;AAEe,MAAMJ,UAAN,SAAyBgB,oDAAzB,CAAqC;AAEhDf,aAAW,GAAG;AACV,UAAM,EAAN;AACA,SAAK2H,IAAL,GAAY,GAAZ;AACA,SAAKzH,OAAL,GAAe,KAAf;AACA,SAAKE,UAAL,GAAkB,KAAlB;AACH;;AAP+C,C;;;;;;;;;;;;ACFpD;AAAA;AAAO,SAASkB,OAAT,CAAiBR,GAAjB,EAAsB8G,MAAtB,EAA8B;AACjC,MAAI;AACAA,UAAM;AACT,GAFD,CAEE,OAAOjB,KAAP,EAAc;AACZ,QAAGA,KAAK,CAAC1F,IAAT,EAAe0F,KAAK,CAAC1F,IAAN,CAAWH,GAAX,EAAf,KACK;AACDmF,aAAO,CAACU,KAAR,CAAcA,KAAd;AACA7F,SAAG,CAAC+G,UAAJ,CAAe,GAAf;AACH;AACJ;AACJ,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAEe,MAAMpF,YAAN,SAA2B1B,oDAA3B,CAAuC;AAClDf,aAAW,GAAG;AACV,UAAM,gBAAN;AACA,SAAK2H,IAAL,GAAY,GAAZ;AACA,SAAKzH,OAAL,GAAe,KAAf;AACA,SAAKE,UAAL,GAAkB,KAAlB;AACA,SAAKD,OAAL,GAAe,4CAAf;AACH;;AAPiD,C;;;;;;;;;;;;ACFtD;AAAA;AAAe,MAAMY,WAAN,CAAkB;AAE7Bf,aAAW,CAAC0H,IAAD,EAAO;AACd,SAAKxH,OAAL,GAAe,IAAf;AACA,SAAKC,OAAL,GAAe,SAAf;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKsH,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAY,GAAZ;AACH;;AAED1G,MAAI,CAACH,GAAD,EAAM;AACNA,OAAG,CAAC0C,MAAJ,CAAW,KAAKmE,IAAhB,EAAsBlE,IAAtB,CAA2B;AACvBvD,aAAO,EAAE,KAAKA,OADS;AAEvBE,gBAAU,EAAE,KAAKA,UAFM;AAGvBD,aAAO,EAAE,KAAKA,OAHS;AAIvBuH,UAAI,EAAE,KAAKA;AAJY,KAA3B;AAMH;;AAjB4B,C;;;;;;;;;;;;ACAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMI,aAAa,GAAGC,gDAAG,CAACxC,MAAJ,CAAW;AAC7B5D,IAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EADyB;AAEzBC,eAAa,EAAEL,gDAAG,CAACM,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBH,QAArB,EAFU;AAGzBI,MAAI,EAAE,CAHmB;AAGf;AACV5D,QAAM,EAAEoD,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACjCmD,aAAS,EAAGX,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCH,QAArC,EADqB;AAEjCQ,cAAU,EAAEZ,gDAAG,CAACa,OAAJ,GAAcC,OAAd,CAAsB,KAAtB,CAFqB;AAGjCnB,QAAI,EAAEK,gDAAG,CAACM,MAAJ,GAAaF,QAAb;AAH2B,GAAX,CAAlB,EAIJG,GAJI,CAIA,CAJA,EAIGH,QAJH;AAJiB,CAAX,CAAtB;AAWA,MAAMW,YAAY,GAAGf,gDAAG,CAACxC,MAAJ,CAAW;AAC5B5D,IAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EADwB;AAExBC,eAAa,EAAEL,gDAAG,CAACM,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBH,QAArB,EAFS;AAGxBI,MAAI,EAAE,CAHkB;AAGd;AACV5D,QAAM,EAAEoD,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACjCmD,aAAS,EAAGX,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCH,QAArC,EADqB;AAEjCQ,cAAU,EAAEZ,gDAAG,CAACa,OAAJ,GAAcC,OAAd,CAAsB,KAAtB,CAFqB;AAGjCnB,QAAI,EAAEK,gDAAG,CAACM,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBH,QAArB;AAH2B,GAAX,CAAlB,EAIJG,GAJI,CAIA,CAJA,EAIGH,QAJH;AAJgB,CAAX,CAArB;AAYA;;AACA,MAAM/F,UAAU,GAAG,IAAIuD,2DAAJ,CAAc,OAAd,EAAuBoC,gDAAG,CAACxC,MAAJ,CAAW;AACjD5D,IAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EAD6C;AAEjDvC,MAAI,EAAEmC,gDAAG,CAACM,MAAJ,GAAaF,QAAb,EAF2C;AAGjDY,YAAU,EAAEhB,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCO,OAArC,CAA6C,CAA7C,CAHqC;AAIjDxF,SAAO,EAAE0E,gDAAG,CAACxC,MAAJ,CAAW;AAChBjC,aAAS,EAAEyE,gDAAG,CAACa,OAAJ,GAAcC,OAAd,CAAsB,IAAtB,CADK;AAEhBjF,gBAAY,EAAEmE,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACC,MAAJ,EAAlB;AAFE,GAAX,CAJwC;AASjDpG,WAAS,EAAEmG,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACpC5D,MAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EADgC;AAEpCC,iBAAa,EAAEL,gDAAG,CAACM,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBH,QAArB,EAFqB;AAGpCI,QAAI,EAAER,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCO,OAArC,CAA6C,CAA7C,CAH8B;AAGoB;AACxDlE,UAAM,EAAEoD,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACjCmD,eAAS,EAAGX,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCH,QAArC,EADqB;AAEjCQ,gBAAU,EAAEZ,gDAAG,CAACa,OAAJ,GAAcC,OAAd,CAAsB,KAAtB,CAFqB;AAGjCnB,UAAI,EAAEK,gDAAG,CAACiB,YAAJ,GAAmBC,WAAnB,CAA+B,QAA/B,EACF;AAAEC,UAAE,EAAE,CAAN;AAASC,YAAI,EAAEpB,gDAAG,CAACM,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBH,QAArB,EAAf;AAAgDiB,iBAAS,EAAErB,gDAAG,CAACM,MAAJ,GAAaF,QAAb;AAA3D,OADE;AAH2B,KAAX,CAAlB,EAKJG,GALI,CAKA,CALA,EAKGH,QALH;AAJ4B,GAAX,CAAlB,EAUPG,GAVO,CAUH,EAVG,EAUCH,QAVD;AATsC,CAAX,CAAvB,CAAnB;AAsBe/F,yEAAf,E;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AACA,MAAMiC,SAAS,GAAG,IAAIsB,2DAAJ,CAAc,OAAd,EAAuBoC,gDAAG,CAACxC,MAAJ,CAAW;AAChD5D,IAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EAD4C;AAEhDkB,SAAO,EAAEtB,gDAAG,CAACM,MAAJ,GAAaF,QAAb,EAFuC;AAGhDvC,MAAI,EAAEmC,gDAAG,CAACM,MAAJ,GAAaF,QAAb,EAH0C;AAIhDmB,UAAQ,EAAEvB,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCO,OAArC,CAA6C,CAA7C,CAJsC;AAKhDU,WAAS,EAAExB,gDAAG,CAACC,MAAJ,GAAaa,OAAb,CAAqB,EAArB,CALqC;AAMhDW,UAAQ,EAAEzB,gDAAG,CAAC0B,IAAJ,GAAWZ,OAAX,CAAmB,YAAnB,CANsC;AAOhDa,WAAS,EAAE3B,gDAAG,CAACM,MAAJ,GAAasB,KAAb,CAAmB,IAAnB,EAAyB,EAAzB,EAA6Bd,OAA7B,CAAqC,oEAArC,CAPqC;AAQhDe,MAAI,EAAE7B,gDAAG,CAACM,MAAJ,GAAaQ,OAAb,CAAqB,QAArB,CAR0C;AAShDgB,mBAAiB,EAAE9B,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AAC5C5D,MAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaG,QAAb,EADwC;AAE5CvC,QAAI,EAAEmC,gDAAG,CAACM,MAAJ,GAAaF,QAAb,EAFsC;AAG5C2B,QAAI,EAAE/B,gDAAG,CAACC,MAAJ,GAAaG,QAAb,EAHsC;AAI5CU,WAAO,EAAEd,gDAAG,CAACa,OAAJ,GAAcC,OAAd,CAAsB,KAAtB;AAJmC,GAAX,CAAlB;AAT6B,CAAX,CAAvB,CAAlB;AAiBexE,wEAAf,E;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA,MAAMI,gBAAgB,GAAG,IAAIkB,2DAAJ,CAAc,aAAd,EAA6BoC,gDAAG,CAACxC,MAAJ,CAAW;AAC7D5D,IAAE,EAAEoG,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EADyD;AAE7DzD,SAAO,EAAEqD,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EAFoD;AAG7D9C,gBAAc,EAAE0C,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACzCC,WAAO,EAAEuC,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EADgC;AAEzC4B,cAAU,EAAEhC,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EAF6B;AAIzC6B,gBAAY,EAAEjC,gDAAG,CAACS,KAAJ,GAAYC,KAAZ,CAAkBV,gDAAG,CAACxC,MAAJ,CAAW;AACvCV,iBAAW,EAAEkD,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAA9B,EAD0B;AAEvC8B,mBAAa,EAAElC,gDAAG,CAACC,MAAJ,GAAaC,OAAb,GAAuBC,GAAvB,CAA2B,CAA3B,EAA8BI,GAA9B,CAAkC,CAAlC,EAAqCH,QAArC;AAFwB,KAAX,CAAlB,EAGVU,OAHU,CAGF,EAHE;AAJ2B,GAAX,CAAlB,EAQZA,OARY,CAQJ,EARI;AAH6C,CAAX,CAA7B,CAAzB;AAcepE,+EAAf,E;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA,MAAMyF,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AAGA,MAAMG,GAAG,GAAGC,8CAAO,EAAnB;AAEAD,GAAG,CAACE,OAAJ,CAAY,cAAZ;AACAF,GAAG,CAAClJ,GAAJ,CAAQqJ,2CAAI,CAAC,EAAD,CAAZ;AACAH,GAAG,CAAClJ,GAAJ,CAAQsJ,kDAAU,CAAChH,IAAX,EAAR;AACA4G,GAAG,CAAClJ,GAAJ,CAAQuJ,6CAAM,CAAC,4EAAD,CAAd;AAGAL,GAAG,CAAClJ,GAAJ,CAAQuE,4CAAR;AAEA2E,GAAG,CAAC1J,GAAJ,CAAQ,GAAR,EAAa,CAACE,GAAD,EAAMC,GAAN,KAAc;AACtBA,KAAG,CAAC+G,UAAJ,CAAe,GAAf;AACJ,CAFD;AAMAwC,GAAG,CAAClJ,GAAJ,CAAQ,GAAR,EAAa,CAACN,GAAD,EAAMC,GAAN,KAAcA,GAAG,CAAC0C,MAAJ,CAAW,GAAX,EAAgBmH,GAAhB,EAA3B;AACAN,GAAG,CAACO,MAAJ,CAAWV,IAAX,EAAiB,MAAM;AACnBjE,SAAO,CAACC,GAAR,CAAY,uDAAuDgE,IAAnE;AACH,CAFD,E;;;;;;;;;;;;;;;;;;;;;;;AC1BA,sC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,gC;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,iC","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import BadRequest from \"../../Errors/BadRequest\";\n\nexport default class IdMustBeANumber extends BadRequest {\n\n    constructor() {\n        super();\n        this.httpContent = {\n            success: false,\n            message: \"The parameter id is a number but the provided wasn't\",\n            statusCode: 400.3\n        }\n    }\n}","import BadRequest from \"../../Errors/BadRequest\";\n\nexport default class IdParameterNotFound extends BadRequest {\n\n    constructor() {\n        super();\n        this.httpContent = {\n            success: false,\n            message: \"The parameter id is required but was not found\",\n            statusCode: 400.3\n        }\n    }\n}","import IdMustBeANumber from \"../../BasicErrors/IdMustBeANumber\";\n\nexport class QuizzIdParameterMustBeInt extends IdMustBeANumber {\n    constructor() {\n        super();\n        this.message = \"The quizz id is a number but the provided wasn't\"\n        this.statusCode = \"400.4.1\"\n    }\n}","import IdParameterNotFound from \"../../BasicErrors/IdParameterNotFound\";\n\nexport default class QuizzIdParameterNotFound extends IdParameterNotFound {\n    constructor() {\n        super();\n        this.message = \"The quizz id parameter is required but was not found\"\n        this.statusCode = \"400.3.1\"\n    }\n}","import IdParameterNotFound from \"../../../BasicErrors/IdParameterNotFound\";\n\nexport default class QuestionIdParameterNotFound extends IdParameterNotFound {\n\n    constructor() {\n        super()\n        this.statusCode = \"400.3.2\"\n        this.message = \"The question id parameter is required but was not found\"\n    }\n}","import { Router } from 'express'\nimport HttpMessage from '../../../Errors/HttpMessage'\nimport questionMiddleware from './question.middleware'\n\nconst questionsGettersRouter = Router()\n\nquestionsGettersRouter.get('/:question', questionMiddleware,\n    /**\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \n     * @param {*} res \n     */\n    (req, res) => {\n        new HttpMessage(req.question).send(res)\n    }\n)\n\nexport default questionsGettersRouter","import { Router } from 'express'\nimport questionsGettersRouter from './getters'\nimport questionManagementRouter from './manage'\n\nconst questionRouter = Router()\n\nquestionRouter.use(questionManagementRouter)\nquestionRouter.use(questionsGettersRouter)\n\nexport default questionRouter","import { Router } from 'express'\nimport FileNotFound from '../../../Errors/FileNotFound'\nimport quizzModel from '../../../Models/quizz.model'\nimport { Execute } from '../../../Errors/ErrorSchield'\nimport HttpMessage from '../../../Errors/HttpMessage'\nimport questionMiddleware from './question.middleware'\n\n\nconst questionManagementRouter = Router()\n\nquestionManagementRouter.post('/', \n    /**\n     * \n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \n     * @param {*} res \n     */\n    (req, res) => {\n        Execute(res, () => {\n            const updatedQuizz = Object.assign({}, req.quizz)\n            \n            const id = req.quizz.questions.map(q => q.id).reduce((pv, cv) => pv > cv ? pv : cv, 0) + 1\n            req.body.id = id\n\n            updatedQuizz.questions.push(req.body)\n            quizzModel.update(updatedQuizz)\n            new HttpMessage(\"Question successfully added !\").send(res)\n        })\n    }\n)\n\nquestionManagementRouter.delete('/:question', questionMiddleware,\n    /**\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \n     * @param {*} res \n     */\n    (req, res) => {\n        Execute(res, () => {\n            const updatedQuizz = Object.assign({}, req.quizz)\n            updatedQuizz.questions = updatedQuizz.questions.filter(q => q.id !== req.question.id)\n\n            if(updatedQuizz.questions.length === req.quizz.questions.length) throw new FileNotFound()\n\n            quizzModel.update(updatedQuizz)\n            new HttpMessage(\"Question successfully deleted !\").send(res)\n        })\n    }\n)\n\nquestionManagementRouter.put('/:question', questionMiddleware,\n    /**\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \n     * @param {*} res \n     */\n    (req, res) => {\n        Execute(res, () => {\n            const objToChange = req.body\n            delete objToChange.id\n            const result = Object.assign(req.question, objToChange)\n            \n            const index = req.quizz.questions.findIndex(q => q.id === result.id)\n            const updatedQuizz = Object.assign({}, req.quizz)\n            updatedQuizz.questions[index] = result\n\n            quizzModel.update(updatedQuizz)\n            new HttpMessage(\"Question successfully updated !\").send(res)\n        })\n    }\n)\n\nexport default questionManagementRouter","import { Execute } from \"../../../Errors/ErrorSchield\"\nimport QuestionIdParameterNotFound from \"./Errors/QuestionIdParameterNotFound\"\n\n\n/**\n * @param {Request & { quizz: import('../../../Models/quizz.model').Quizz }} req \n * @param {*} res \n * @param {*} next \n */\nexport default function(req, res, next) {\n    Execute(res, () => {\n        if(!req.params.question) throw new QuestionIdParameterNotFound()\n        const result = req.quizz.questions.find(q => q.id === req.params.question)\n    \n        if(!result) throw new FileNotFound()\n    \n        req.question = result\n        next()\n    })\n}","import { Router } from 'express'\nimport HttpMessage from '../../Errors/HttpMessage'\nimport quizzMiddleware from './quizz.middleware'\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\nimport FileNotFound from \"../../Errors/FileNotFound\";\nimport quizzModel from \"../../Models/quizz.model\";\nimport IdMustBeANumber from \"../BasicErrors/IdMustBeANumber\";\n\nconst quizzGettersRouter = Router()\n\nquizzGettersRouter.get('/public', (req, res) => {\n    try {\n        const result = quizzModel.getAll(quiz => quiz.privacy.is_public === true);\n        if(!result) throw new FileNotFound()\n        new HttpMessage(result).send(res)\n    } catch(err) {\n        res.status(500).json(err);\n    }\n});\n\nquizzGettersRouter.get('/foroneuser/:id', (req, res) => {\n\n    if(!req.params.id) throw new IdParameterNotFound()\n    req.params.id = parseInt(req.params.id)\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n\n    const result = quizzModel.getAll(quiz =>\n        quiz.privacy.is_public === false && quiz.privacy.users_access.find(element => element === req.params.id)\n        ||\n        quiz.privacy.is_public === true\n    );\n\n    if(!result) throw new FileNotFound()\n\n    new HttpMessage(result).send(res)\n})\n\n\nquizzGettersRouter.get('/:quizz', quizzMiddleware, (req, res) => {\n    new HttpMessage(req.quizz).send(res)\n});\n\n\n\n\nexport default quizzGettersRouter\n","import { Router } from 'express'\nimport quizzGettersRouter from './getters'\nimport quizzManageRouter from './manage'\nimport questionRouter from './Question'\nimport quizzMiddleware from './quizz.middleware'\n\nconst quizzRouter = Router()\n\nquizzRouter.use(quizzManageRouter)\nquizzRouter.use(quizzGettersRouter)\n\nquizzRouter.use('/:quizz/question', quizzMiddleware, questionRouter)\n\nexport default quizzRouter","import { Router } from 'express'\nimport { Execute } from '../../Errors/ErrorSchield'\nimport HttpMessage from '../../Errors/HttpMessage'\nimport quizzModel from '../../Models/quizz.model'\nimport quizzMiddleware from './quizz.middleware'\nimport userModel from \"../../Models/user.model\";\nimport FileNotFound from \"../../Errors/FileNotFound\";\n\n\nconst quizzManageRouter = Router()\n\n\nquizzManageRouter.get('/all', (req, res) => {\n\n    const result = quizzModel.getAll(u => u != null)\n    if(!result) throw new FileNotFound()\n    new HttpMessage(result).send(res)\n})\n\n\nquizzManageRouter.post('/', (req, res) => {\n    Execute(res, () => {\n        quizzModel.add(req.body)\n        new HttpMessage(\"Quizz added successfully !\").send(res)\n    })\n})\n\nquizzManageRouter.put('/:quizz', quizzMiddleware, \n    /**\n     * \n     * @param { import('express').Request & { quizz: import('../../Models/quizz.model').Quizz }} req \n     * @param {*} res \n     */\n    (req, res) => {\n        Execute(res, () => {\n            req.body.id = parseInt(req.quizz.id)\n            quizzModel.update(req.body)\n\n            new HttpMessage(\"Quizz updated successfully !\").send(res)\n        })\n    }\n)\n\nquizzManageRouter.delete('/:quizz', quizzMiddleware, \n    (req, res) => {\n        Execute(res, () => {\n            quizzModel.delete(req.params.quizz)\n\n            new HttpMessage(\"Quizz deleted successfully !\").send(res)\n        })\n    }\n)\n\n\n\nexport default quizzManageRouter\n","import { Execute } from \"../../Errors/ErrorSchield\"\nimport quizzModel from \"../../Models/quizz.model\"\nimport FileNotFound from '../../Errors/FileNotFound'\nimport { QuizzIdParameterMustBeInt } from \"./Errors/QuizzIdParameterMustBeInt\"\nimport QuizzIdParameterNotFound from \"./Errors/QuizzIdParameterNotFound\"\n\nexport default (req, res, next) => {\n    Execute(res, () => {\n        if(!req.params.quizz) throw new QuizzIdParameterNotFound()\n        req.params.quizz = parseInt(req.params.quizz)\n        if(isNaN(req.params.quizz)) throw new QuizzIdParameterMustBeInt()\n    \n        const result = quizzModel.getOne(q => q.id === req.params.quizz)\n        if(!result) throw new FileNotFound()\n\n        req.quizz = result\n        next()\n    })\n}","import { Router } from 'express'\nimport { Execute } from '../../Errors/ErrorSchield'\nimport FileNotFound from '../../Errors/FileNotFound'\nimport HttpMessage from '../../Errors/HttpMessage'\nimport userModel from '../../Models/user.model'\nimport IdMustBeANumber from '../BasicErrors/IdMustBeANumber'\n\nconst gettersUsersRouter = Router()\n\ngettersUsersRouter.get('/all', ((req, res) => {\n\n    const result = userModel.getAll(u => u != null);\n    if(!result) throw new FileNotFound()\n    new HttpMessage(result).send(res)\n\n\n}));\n\n\ngettersUsersRouter.get('/:id', (req, res, next) => {\n    Execute(res, () => {\n        if(!req.params.id) throw new IdParameterNotFound()\n        req.params.id = parseInt(req.params.id)\n        if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n        const result = userModel.getOne(u => u.id === req.params.id)\n\n        if(!result) throw new FileNotFound()\n\n        new HttpMessage(result).send(res)\n\n\n    });\n    next();\n})\n\n\n\n\n\nexport default gettersUsersRouter\n","import { Router } from 'express'\nimport gettersUsersRouter from './getters'\nimport manageUser from './manage'\n\nconst userRouter = Router()\n\n\nuserRouter.use(gettersUsersRouter)\nuserRouter.use(manageUser)\n\n\nexport default userRouter\n","import { Router } from 'express'\nimport { Execute } from '../../Errors/ErrorSchield'\nimport HttpMessage from '../../Errors/HttpMessage'\nimport userModel from '../../Models/user.model'\nimport IdParameterNotFound from '../BasicErrors/IdParameterNotFound'\n\nconst manageUser = Router()\n\nmanageUser.post('/', (req, res) => {\n    Execute(res, () => {\n        userModel.add(req.body)\n        new HttpMessage(\"User added successfully !\").send(res)\n    })\n})\n\nmanageUser.put('/:id', (req, res) => {\n    Execute(res, () => {\n        if(!req.params.id) throw new IdParameterNotFound()\n\n        req.body.id = parseInt(req.params.id);\n        userModel.update(req.body)\n\n        new HttpMessage(\"User updated successfully\").send(res)\n    })\n})\n\nmanageUser.delete('/:id', (req, res) => {\n    Execute(res, () => {\n        if(!req.params.id) throw new IdParameterNotFound()\n        userModel.delete(req.params.id)\n        new HttpMessage(\"User deleted successfully\").send(res)\n    })\n})\n\nexport default manageUser\n","import {Router} from \"express\";\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\nimport FileNotFound from \"../../Errors/FileNotFound\";\nimport HttpMessage from \"../../Errors/HttpMessage\";\nimport IdMustBeANumber from \"../BasicErrors/IdMustBeANumber\";\n\nconst gettersUserAndQuizRouter = Router();\n\n\ngettersUserAndQuizRouter.get('/all', ((req, res, /*next*/) => {\n    try {\n        const result = userAndQuizModel.getAll(u => u.id_user != null);\n        if(!result) throw new FileNotFound()\n        new HttpMessage(result).send(res)\n        //next();\n    } catch (err) {\n        res.status(500).json(err);\n    }\n}));\n\ngettersUserAndQuizRouter.get('/user/:id', ((req, res, next) => {\n\n    if(!req.params.id) throw new IdParameterNotFound()\n    req.params.id = parseInt(req.params.id)\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n    const result = userAndQuizModel.getOne(u => u.id_user === req.params.id)\n\n    if(!result) throw new FileNotFound()\n\n    new HttpMessage(result).send(res)\n\n    next();\n}));\n\n\ngettersUserAndQuizRouter.get('/quiz/:id', ((req, res, next) => {\n\n    if(!req.params.id) throw new IdParameterNotFound()\n    req.params.id = parseInt(req.params.id)\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n    const result = userAndQuizModel.getAll(u => u.answer.some(quiz => quiz.id_question === id));\n\n    if(!result) throw new FileNotFound()\n\n    new HttpMessage(result).send(res)\n\n    next();\n}));\n\n\n\nexport default gettersUserAndQuizRouter;\n\n","import { Router } from 'express'\nimport gettersUserAndQuizRouter from \"./getters\";\nimport manageUserAndQuizRouter from './manage'\n\n\nconst userAndQuizRouter = Router()\n\n\nuserAndQuizRouter.use(gettersUserAndQuizRouter);\nuserAndQuizRouter.use(manageUserAndQuizRouter);\n\n\nexport default userAndQuizRouter\n","import { Router } from 'express'\nimport userAndQuizModel from \"../../Models/userAndQuizModel\";\nimport HttpMessage from \"../../Errors/HttpMessage\";\nimport IdParameterNotFound from \"../BasicErrors/IdParameterNotFound\";\nimport userModel from \"../../Models/user.model\";\nimport IdMustBeANumber from \"../BasicErrors/IdMustBeANumber\";\nimport FileNotFound from \"../../Errors/FileNotFound\";\n\n\n\nconst manageUserAndQuizRouter = Router();\n\n\nmanageUserAndQuizRouter.post('/', (req, res) => {\n\n    userAndQuizModel.add(req.body);\n    new HttpMessage(\"UserAndQuiz added successfully !\").send(res)\n});\n\nmanageUserAndQuizRouter.put('/:id', (req, res) => {\n\n    if(!req.params.id) throw new IdParameterNotFound()\n\n    req.body.id = parseInt(req.params.id);\n    //userAndQuizModel.update_second(req.params.id, req.body)\n    userAndQuizModel.update(req.body)\n\n    new HttpMessage(\"UserAndQuiz udpated successfully\").send(res)\n\n});\n\nmanageUserAndQuizRouter.delete('/:id', (req, res) => {\n    if(!req.params.id) throw new IdParameterNotFound()\n    userAndQuizModel.delete(req.params.id)\n    new HttpMessage(\"UserAndQuiz deleted successfully\").send(res)\n});\n\n\nmanageUserAndQuizRouter.delete('/user/:id', (req, res) => {\n\n\n    if(!req.params.id) throw new IdParameterNotFound()\n    req.params.id = parseInt(req.params.id)\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n    const result = userAndQuizModel.getOne(u => u.id_user === req.params.id)\n    if(!result) throw new FileNotFound()\n\n    userAndQuizModel.delete(result.id);\n\n    new HttpMessage(\"userAndQuiz deleted successfully\").send(res)\n});\n\n\nmanageUserAndQuizRouter.delete('/quiz/:id', (req, res) => {\n\n\n    if(!req.params.id) throw new IdParameterNotFound()\n    req.params.id = parseInt(req.params.id)\n    if(isNaN(req.params.id)) throw new IdMustBeANumber()\n\n\n    const alls = userAndQuizModel.getAll(uaq => uaq != null);\n\n    alls.forEach(oneUaQ => {\n\n        const playedQuizForThis = oneUaQ.played_quizzes;\n\n        playedQuizForThis.forEach(function(item, index, object) {\n            if (item.id_quiz === req.params.id) {\n                object.splice(index, 1);\n            }\n        })\n    });\n\n    alls.forEach(oneUaQ => {\n\n        userAndQuizModel.update(oneUaQ);\n\n    })\n\n\n\n    // if(!result) throw new FileNotFound()\n    new HttpMessage(\"User And Quizz deleted successfully\").send(res)\n});\n\n\nexport default manageUserAndQuizRouter;\n","import { Router } from 'express'\nimport quizzRouter from './Quizz'\nimport userRouter from './User'\nimport userAndQuizRouter from './UserAndQuiz'\n\nconst apiRouter = Router()\n\n\napiRouter.use('/quizz', quizzRouter)\napiRouter.use('/user', userRouter)\napiRouter.use('/userandquiz', userAndQuizRouter)\n\nexport default apiRouter\n","import Joi from '@hapi/joi'\nimport fs from 'fs'\nimport path from 'path'\nimport FileNotFound from '../Errors/FileNotFound'\nimport IdAlreadyUsed from './Errors/IdAlreadyUsed'\nimport InvalidSchemeError from './Errors/InvalidScheme'\n\n/**\n * @class\n * @template T\n */\nexport default class BaseModel {\n\n    /**\n     * @param {string} name \n     * @param { Joi.ObjectSchema<any> } model \n     */\n    constructor(name, model) {\n        this.name = name\n        this.filename = path.resolve(`Database/${name}.dbb.json`)\n        console.log(this.name)\n        console.log(this.filename)\n        this.model = model\n        this.content = []\n\n        if(!fs.existsSync(this.filename))\n            fs.writeFileSync(this.filename, '[]')\n    }\n\n    /**\n     * @param {T} obj \n     */\n    add(obj) {\n        this.load()\n        if(!obj.id) obj.id = this.content.map(o => o.id).reduce((pv,cv) => pv > cv ? pv : cv, 0) + 1\n\n        const result = this.model.validate(obj)\n        if(result.error) throw new InvalidSchemeError(result.error)\n\n        console.log(this.content.find(d => parseInt(d.id) === parseInt(result.value.id)))\n\n        if(this.content.find(d => d.id === result.value.id)) throw new IdAlreadyUsed();\n\n        this.content.push(result.value)\n        this.save()\n    }\n\n    /**\n     * @param {T} obj \n     */\n    update(obj) {\n        this.load()\n        const result = this.model.validate(obj)\n        if(result.error) throw new InvalidSchemeError(result.error)\n        \n        const i = this.content.findIndex(o => parseInt(o.id) === parseInt(obj.id))\n\n        if(i === -1) throw new FileNotFound();\n\n        this.content[i] = obj\n        this.save()\n    }\n\n\n    delete(objId) {\n        this.load()\n        const i = this.content.findIndex(p => {\n            return (parseInt(p.id)) === parseInt(objId)\n        })\n        if(i === -1) throw new FileNotFound();\n\n        this.content = this.content.filter(o => parseInt(o.id) !== parseInt(objId))\n        this.save()\n    }\n\n    /**\n     * @param {(any) => boolean} predicate \n     */\n    deleteAll(predicate) {\n        this.load()\n        this.content = this.content.filter(o => !predicate(o))\n        this.save()\n    }\n\n    /**\n     * @param {(any) => boolean} predicate\n     * @returns {T}\n     */\n    getOne(predicate) {\n        this.load()\n        return this.content.find(predicate)\n    }\n\n    /**\n     * @param {(any) => boolean} predicate \n     * @returns {T}\n     */\n    getAll(predicate) {\n        this.load()\n        return this.content.filter(predicate)\n    }\n\n\n\n    save() {\n        fs.writeFileSync(this.filename, JSON.stringify(this.content))\n    }\n\n    load() {\n        const json = fs.readFileSync(this.filename)\n        this.content = JSON.parse(json)\n    }\n\n\n\n}\n","import BadRequest from \"../../Errors/BadRequest\";\n\nexport default class IdAlreadyUsed extends BadRequest {\n    \n    constructor() {\n        super()\n        this.statusCode = \"400.2\"\n        this.message = \"The id provided for this object already used for another one\"\n    }\n}","import BadRequest from \"../../Errors/BadRequest\";\n\nexport default class InvalidSchemeError extends BadRequest {\n    \n    constructor(error) {\n        super()\n        this.statusCode = \"400.1\"\n        this.data = error\n        this.message = \"The provided object is invalid\"\n    }\n}","import HttpMessage from \"./HttpMessage\";\n\nexport default class BadRequest extends HttpMessage {\n\n    constructor() {\n        super({})\n        this.code = 400\n        this.success = false\n        this.statusCode = \"400\"\n    }\n}","export function Execute(res, action) {\n    try {\n        action()\n    } catch (error) {\n        if(error.send) error.send(res)\n        else {\n            console.error(error)\n            res.sendStatus(500)\n        }\n    }\n}\n","import HttpMessage from \"./HttpMessage\";\n\nexport default class FileNotFound extends HttpMessage {\n    constructor() {\n        super(\"File not found\")\n        this.code = 404;\n        this.success = false\n        this.statusCode = \"404\"\n        this.message = \"The element you search for were not found.\"\n    }\n}","export default class HttpMessage {\n\n    constructor(data) {\n        this.success = true\n        this.message = \"Success\"\n        this.statusCode = \"200\"\n        this.data = data\n        this.code = 200\n    }\n\n    send(res) {\n        res.status(this.code).json({\n            success: this.success, \n            statusCode: this.statusCode,\n            message: this.message,\n            data: this.data\n        })\n    }\n}","import BaseModel from \"../Database/BaseModel\";\nimport joi from '@hapi/joi'\nimport { number } from \"joi\";\nimport Joi from \"@hapi/joi\";\n\n\n/**\n * @typedef {{\n * id: string,\n * question_name: string\n * type: number,\n * answer: {\n *      is_correct: boolean,\n *      data: string \n * }[]\n * }} Question\n */\n\n/**\n * @typedef {{\n * id: number,\n * name: string,\n * difficulty: number,\n * questions: Question[]\n * }} Quizz\n */\n\nconst questionImage = joi.object({\n    id: joi.number().integer().min(0).required(),\n        question_name: joi.string().max(70).required(),\n        type: 1,  // 0 pour txt, 1 pour image\n        answer: joi.array().items(joi.object({\n            id_answer:  joi.number().integer().min(1).max(4).required(),\n            is_correct: joi.boolean().default(false),\n            data: joi.string().required()\n        })).max(4).required()\n})\n\nconst questionText = joi.object({\n    id: joi.number().integer().min(0).required(),\n        question_name: joi.string().max(70).required(),\n        type: 0,  // 0 pour txt, 1 pour image\n        answer: joi.array().items(joi.object({\n            id_answer:  joi.number().integer().min(1).max(4).required(),\n            is_correct: joi.boolean().default(false),\n            data: joi.string().max(45).required()\n        })).max(4).required()\n})\n\n\n/** @type { BaseModel<Quizz> } */\nconst quizzModel = new BaseModel('quizz', joi.object({\n    id: joi.number().integer().min(0).required(),\n    name: joi.string().required(),\n    difficulty: joi.number().integer().min(0).max(3).default(0),\n    privacy: joi.object({\n        is_public: joi.boolean().default(true),\n        users_access: joi.array().items(joi.number())\n    }),\n\n    questions: joi.array().items(joi.object({\n        id: joi.number().integer().min(0).required(),\n        question_name: joi.string().max(70).required(),\n        type: joi.number().integer().min(0).max(1).default(0),  // 0 pour txt, 1 pour image\n        answer: joi.array().items(joi.object({\n            id_answer:  joi.number().integer().min(1).max(4).required(),\n            is_correct: joi.boolean().default(false),\n            data: joi.alternatives().conditional('..type', \n                { is: 0, then: joi.string().max(45).required(), otherwise: joi.string().required() })\n        })).max(4).required()\n    })).max(30).required()\n}))\n\nexport default quizzModel\n","import BaseModel from \"../Database/BaseModel\";\nimport joi from '@hapi/joi'\n\n\n/** \n * @typedef {{ \n * id: number, \n * surname: string, \n * name: string, \n * handicap: number, \n * font_size: number,\n * birthday: Date, \n * size_font_config: { \n *      name: string, \n *      size: number, \n *      default: boolean }[] \n * }} User \n * */\n\n\n/** @type { BaseModel<User> } */\nconst userModel = new BaseModel('users', joi.object({\n    id: joi.number().integer().min(0).required(),\n    surname: joi.string().required(),\n    name: joi.string().required(),\n    handicap: joi.number().integer().min(0).max(5).default(5),\n    font_size: joi.number().default(40),\n    birthday: joi.date().default(\"1962-12-19\"),\n    image_url: joi.string().allow(null, '').default(\"https://unsplash.com/photos/75xPHEQBmvA/download?force=true&w=1920\"),\n    note: joi.string().default(\"Aucune\"),\n    size_font_configs: joi.array().items(joi.object({\n        id: joi.number().required(),\n        name: joi.string().required(),\n        size: joi.number().required(),\n        default: joi.boolean().default(false)\n    }))\n}))\n\nexport default userModel\n","import BaseModel from \"../Database/BaseModel\";\nimport joi from '@hapi/joi'\n\n\nconst userAndQuizModel = new BaseModel('userAndQuiz', joi.object({\n    id: joi.number().integer().min(0).required(),\n    id_user: joi.number().integer().min(0).required(),\n    played_quizzes: joi.array().items(joi.object({\n        id_quiz: joi.number().integer().min(0).required(),\n        score_user: joi.number().integer().min(0).required(),\n\n        user_answers: joi.array().items(joi.object({\n            id_question: joi.number().integer().min(0).required(),\n            response_user: joi.number().integer().min(1).max(4).required()\n        })).default([])\n    })).default([])\n}))\n\nexport default userAndQuizModel\n","import express from 'express'\nimport cors from 'cors'\nimport bodyParser from 'body-parser'\nimport apiRouter from './API'\nimport morgan from 'morgan'\n\nconst PORT = process.env.PORT || 3000\n\n\nconst app = express()\n\napp.disable('x-powered-by')\napp.use(cors({}))\napp.use(bodyParser.json())\napp.use(morgan('[:date[iso]] :method :url :status :response-time ms - :res[content-length]'))\n\n\napp.use(apiRouter)\n\napp.get('/', (req, res) => {\n     res.sendStatus(200)\n})\n\n\n\napp.use('*', (req, res) => res.status(404).end())\napp.listen(PORT, () => {\n    console.log(\"Server started successfully on : http://localhost:\" + PORT)\n})","module.exports = require(\"@hapi/joi\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"fs\");","module.exports = require(\"joi\");","module.exports = require(\"morgan\");","module.exports = require(\"path\");"],"sourceRoot":""}