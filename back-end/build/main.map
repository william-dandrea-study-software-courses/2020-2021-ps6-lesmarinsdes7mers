{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/API/BasicErrors/IdMustBeANumber.js","webpack:///./src/API/BasicErrors/IdParameterNotFound.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterMustBeInt.js","webpack:///./src/API/Quizz/Errors/QuizzIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/Errors/QuestionIdParameterNotFound.js","webpack:///./src/API/Quizz/Question/getters.js","webpack:///./src/API/Quizz/Question/index.js","webpack:///./src/API/Quizz/Question/manage.js","webpack:///./src/API/Quizz/Question/question.middleware.js","webpack:///./src/API/Quizz/getters.js","webpack:///./src/API/Quizz/index.js","webpack:///./src/API/Quizz/manage.js","webpack:///./src/API/Quizz/quizz.middleware.js","webpack:///./src/API/User/getters.js","webpack:///./src/API/User/index.js","webpack:///./src/API/User/manage.js","webpack:///./src/API/index.js","webpack:///./src/Database/BaseModel.js","webpack:///./src/Database/Errors/IdAlreadyUsed.js","webpack:///./src/Database/Errors/InvalidScheme.js","webpack:///./src/Errors/BadRequest.js","webpack:///./src/Errors/ErrorSchield.js","webpack:///./src/Errors/FileNotFound.js","webpack:///./src/Errors/HttpMessage.js","webpack:///./src/Models/quizz.model.js","webpack:///./src/Models/user.model.js","webpack:///./src/index.js","webpack:///external \"@hapi/joi\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"morgan\"","webpack:///external \"path\""],"names":["IdMustBeANumber","BadRequest","constructor","httpContent","success","message","statusCode","IdParameterNotFound","QuizzIdParameterMustBeInt","QuizzIdParameterNotFound","QuestionIdParameterNotFound","questionsGettersRouter","Router","get","questionMiddleware","req","res","HttpMessage","question","send","questionRouter","use","questionManagementRouter","post","Execute","updatedQuizz","Object","assign","quizz","id","questions","map","q","reduce","pv","cv","body","push","quizzModel","update","delete","filter","length","FileNotFound","put","objToChange","result","index","findIndex","next","params","find","quizzGettersRouter","quizzMiddleware","quizzRouter","quizzManageRouter","add","parseInt","isNaN","getOne","gettersUsersRouter","userModel","u","userRouter","manageUser","apiRouter","BaseModel","name","model","filename","path","resolve","content","fs","existsSync","writeFileSync","obj","load","o","validate","error","InvalidSchemeError","d","value","IdAlreadyUsed","save","i","objId","p","deleteAll","predicate","getAll","JSON","stringify","json","readFileSync","parse","data","code","action","console","sendStatus","status","joi","object","number","integer","min","required","string","difficulty","max","default","array","items","question_name","type","answer","is_correct","boolean","surname","handicap","font_size","birthday","date","size_font_configs","size","PORT","process","env","app","express","disable","cors","bodyParser","morgan","end","listen","log"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdMustBeANumber extends BadRequest {\r\n\r\n    constructor() {\r\n        super();\r\n        this.httpContent = {\r\n            success: false,\r\n            message: \"The parameter id is a number but the provided wasn't\",\r\n            statusCode: 400.3\r\n        }\r\n    }\r\n}","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdParameterNotFound extends BadRequest {\r\n\r\n    constructor() {\r\n        super();\r\n        this.httpContent = {\r\n            success: false,\r\n            message: \"The parameter id is required but was not found\",\r\n            statusCode: 400.3\r\n        }\r\n    }\r\n}","import IdMustBeANumber from \"../../BasicErrors/IdMustBeANumber\";\r\n\r\nexport class QuizzIdParameterMustBeInt extends IdMustBeANumber {\r\n    constructor() {\r\n        super();\r\n        this.message = \"The quizz id is a number but the provided wasn't\"\r\n        this.statusCode = \"400.4.1\"\r\n    }\r\n}","import IdParameterNotFound from \"../../BasicErrors/IdParameterNotFound\";\r\n\r\nexport default class QuizzIdParameterNotFound extends IdParameterNotFound {\r\n    constructor() {\r\n        super();\r\n        this.message = \"The quizz id parameter is required but was not found\"\r\n        this.statusCode = \"400.3.1\"\r\n    }\r\n}","import IdParameterNotFound from \"../../../BasicErrors/IdParameterNotFound\";\r\n\r\nexport default class QuestionIdParameterNotFound extends IdParameterNotFound {\r\n\r\n    constructor() {\r\n        super()\r\n        this.statusCode = \"400.3.2\"\r\n        this.message = \"The question id parameter is required but was not found\"\r\n    }\r\n}","import { Router } from 'express'\r\nimport HttpMessage from '../../../Errors/HttpMessage'\r\nimport questionMiddleware from './question.middleware'\r\n\r\nconst questionsGettersRouter = Router()\r\n\r\nquestionsGettersRouter.get('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        new HttpMessage(req.question).send(res)\r\n    }\r\n)\r\n\r\nexport default questionsGettersRouter","import { Router } from 'express'\r\nimport questionsGettersRouter from './getters'\r\nimport questionManagementRouter from './manage'\r\n\r\nconst questionRouter = Router()\r\n\r\nquestionRouter.use(questionManagementRouter)\r\nquestionRouter.use(questionsGettersRouter)\r\n\r\nexport default questionRouter","import { Router } from 'express'\r\nimport FileNotFound from '../../../Errors/FileNotFound'\r\nimport quizzModel from '../../../Models/quizz.model'\r\nimport { Execute } from '../../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../../Errors/HttpMessage'\r\nimport questionMiddleware from './question.middleware'\r\n\r\n\r\nconst questionManagementRouter = Router()\r\n\r\nquestionManagementRouter.post('/', \r\n    /**\r\n     * \r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            \r\n            const id = req.quizz.questions.map(q => q.id).reduce((pv, cv) => pv > cv ? pv : cv, 0) + 1\r\n            req.body.id = id\r\n\r\n            updatedQuizz.questions.push(req.body)\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully added !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquestionManagementRouter.delete('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            updatedQuizz.questions = updatedQuizz.questions.filter(q => q.id !== req.question.id)\r\n\r\n            if(updatedQuizz.questions.length === req.quizz.questions.length) throw new FileNotFound()\r\n\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully deleted !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquestionManagementRouter.put('/:question', questionMiddleware,\r\n    /**\r\n     * @param {Request & { params: { id: string }, quizz: import('../../../Models/quizz.model').Quizz, question: import('../../../Models/quizz.model').Question }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            const objToChange = req.body\r\n            delete objToChange.id\r\n            const result = Object.assign(req.question, objToChange)\r\n            \r\n            const index = req.quizz.questions.findIndex(q => q.id === result.id)\r\n            const updatedQuizz = Object.assign({}, req.quizz)\r\n            updatedQuizz.questions[index] = result\r\n\r\n            quizzModel.update(updatedQuizz)\r\n            new HttpMessage(\"Question successfully updated !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nexport default questionManagementRouter","import { Execute } from \"../../../Errors/ErrorSchield\"\r\nimport QuestionIdParameterNotFound from \"./Errors/QuestionIdParameterNotFound\"\r\n\r\n\r\n/**\r\n * @param {Request & { quizz: import('../../../Models/quizz.model').Quizz }} req \r\n * @param {*} res \r\n * @param {*} next \r\n */\r\nexport default function(req, res, next) {\r\n    Execute(res, () => {\r\n        if(!req.params.question) throw new QuestionIdParameterNotFound()\r\n        const result = req.quizz.questions.find(q => q.id === req.params.question)\r\n    \r\n        if(!result) throw new FileNotFound()\r\n    \r\n        req.question = result\r\n        next()\r\n    })\r\n}","import { Router } from 'express'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport quizzMiddleware from './quizz.middleware'\r\n\r\nconst quizzGettersRouter = Router()\r\n\r\nquizzGettersRouter.get('/:quizz', quizzMiddleware, (req, res) => {\r\n    new HttpMessage(req.quizz).send(res)\r\n})\r\n\r\nexport default quizzGettersRouter","import { Router } from 'express'\r\nimport quizzGettersRouter from './getters'\r\nimport quizzManageRouter from './manage'\r\nimport questionRouter from './Question'\r\nimport quizzMiddleware from './quizz.middleware'\r\n\r\nconst quizzRouter = Router()\r\n\r\nquizzRouter.use(quizzManageRouter)\r\nquizzRouter.use(quizzGettersRouter)\r\n\r\nquizzRouter.use('/:quizz/question', quizzMiddleware, questionRouter)\r\n\r\nexport default quizzRouter","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport quizzModel from '../../Models/quizz.model'\r\nimport quizzMiddleware from './quizz.middleware'\r\n\r\n\r\nconst quizzManageRouter = Router()\r\n\r\nquizzManageRouter.post('/', (req, res) => {\r\n    Execute(res, () => {\r\n        quizzModel.add(req.body)\r\n        new HttpMessage(\"Quizz added successfully !\").send(res)\r\n    })\r\n})\r\n\r\nquizzManageRouter.put('/:quizz', quizzMiddleware, \r\n    /**\r\n     * \r\n     * @param { import('express').Request & { quizz: import('../../Models/quizz.model').Quizz }} req \r\n     * @param {*} res \r\n     */\r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            req.body.id = req.quizz.id\r\n            quizzModel.update(req.body)\r\n\r\n            new HttpMessage(\"Quizz updated successfully !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nquizzManageRouter.delete('/:quizz', quizzMiddleware, \r\n    (req, res) => {\r\n        Execute(res, () => {\r\n            quizzModel.delete(req.params.quizz)\r\n\r\n            new HttpMessage(\"Quizz deleted successfully !\").send(res)\r\n        })\r\n    }\r\n)\r\n\r\nexport default quizzManageRouter","import { Execute } from \"../../Errors/ErrorSchield\"\r\nimport quizzModel from \"../../Models/quizz.model\"\r\nimport { QuizzIdParameterMustBeInt } from \"./Errors/QuizzIdParameterMustBeInt\"\r\nimport QuizzIdParameterNotFound from \"./Errors/QuizzIdParameterNotFound\"\r\n\r\nexport default (req, res, next) => {\r\n    Execute(res, () => {\r\n        if(!req.params.quizz) throw new QuizzIdParameterNotFound()\r\n        req.params.quizz = parseInt(req.params.quizz)\r\n        if(isNaN(req.params.quizz)) throw new QuizzIdParameterMustBeInt()\r\n    \r\n        const result = quizzModel.getOne(q => q.id === req.params.quizz)\r\n        if(!result) throw new FileNotFound()\r\n\r\n        req.quizz = result\r\n        next()\r\n    })\r\n}","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport FileNotFound from '../../Errors/FileNotFound'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport userModel from '../../Models/user.model'\r\nimport IdMustBeANumber from '../BasicErrors/IdMustBeANumber'\r\n\r\nconst gettersUsersRouter = Router()\r\n\r\ngettersUsersRouter.get('/:id', (req, res) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n        req.params.id = parseInt(req.params.id)\r\n        if(isNaN(req.params.id)) throw new IdMustBeANumber()\r\n\r\n        const result = userModel.getOne(u => u.id === req.params.id)\r\n\r\n        if(!result) throw new FileNotFound()\r\n\r\n        new HttpMessage(result).send(res)\r\n    })\r\n})\r\n\r\nexport default gettersUsersRouter","import { Router } from 'express'\r\nimport gettersUsersRouter from './getters'\r\nimport manageUser from './manage'\r\n\r\nconst userRouter = Router()\r\n\r\nuserRouter.use(gettersUsersRouter)\r\nuserRouter.use(manageUser)\r\n\r\nexport default userRouter","import { Router } from 'express'\r\nimport { Execute } from '../../Errors/ErrorSchield'\r\nimport HttpMessage from '../../Errors/HttpMessage'\r\nimport userModel from '../../Models/user.model'\r\nimport IdParameterNotFound from '../BasicErrors/IdParameterNotFound'\r\n\r\nconst manageUser = Router()\r\n\r\nmanageUser.post('/', (req, res) => {\r\n    Execute(res, () => {\r\n        userModel.add(req.body)\r\n        new HttpMessage(\"User added successfully !\").send(res)\r\n    })\r\n})\r\n\r\nmanageUser.put('/:id', (req, res) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n\r\n        req.body.id = req.params.id\r\n        userModel.update(req.body)\r\n\r\n        new HttpMessage(\"User udpated successfully\").send(res)\r\n    })\r\n})\r\n\r\nmanageUser.delete('/:id', (req, res) => {\r\n    Execute(res, () => {\r\n        if(!req.params.id) throw new IdParameterNotFound()\r\n        userModel.delete(req.params.id)\r\n        new HttpMessage(\"User deleted successfully\").send(res)\r\n    })\r\n})\r\n\r\nexport default manageUser","import { Router } from 'express'\r\nimport quizzRouter from './Quizz'\r\nimport userRouter from './User'\r\n\r\nconst apiRouter = Router()\r\n\r\napiRouter.use('/quizz', quizzRouter)\r\napiRouter.use('/user', userRouter)\r\n\r\nexport default apiRouter","import Joi from '@hapi/joi'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nimport FileNotFound from '../Errors/FileNotFound'\r\nimport IdAlreadyUsed from './Errors/IdAlreadyUsed'\r\nimport InvalidSchemeError from './Errors/InvalidScheme'\r\n\r\n/**\r\n * @class\r\n * @template T\r\n */\r\nexport default class BaseModel {\r\n\r\n    /**\r\n     * @param {string} name \r\n     * @param { Joi.ObjectSchema<any> } model \r\n     */\r\n    constructor(name, model) {\r\n        this.name = name\r\n        this.filename = path.resolve(`Database/${name}.dbb.json`)\r\n        this.model = model\r\n        this.content = []\r\n\r\n        if(!fs.existsSync(this.filename))\r\n            fs.writeFileSync(this.filename, '[]')\r\n    }\r\n\r\n    /**\r\n     * @param {T} obj \r\n     */\r\n    add(obj) {\r\n        this.load()\r\n        if(!obj.id) obj.id = this.content.map(o => o.id).reduce((pv,cv) => pv > cv ? pv : cv, 0) + 1\r\n        const result = this.model.validate(obj)\r\n        if(result.error) throw new InvalidSchemeError(result.error)\r\n        if(this.content.find(d => d.id === result.value.id)) throw new IdAlreadyUsed(); \r\n\r\n        this.content.push(result.value)\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {T} obj \r\n     */\r\n    update(obj) {\r\n        this.load()\r\n        const result = this.model.validate(obj)\r\n        if(result.error) throw new InvalidSchemeError(result.error)\r\n        \r\n        const i = this.content.findIndex(o => o.id === obj.id)\r\n        if(i === -1) throw new FileNotFound();\r\n\r\n        this.content[i] = obj\r\n        this.save()\r\n    }\r\n\r\n    delete(objId) {\r\n        this.load()\r\n        const i = this.content.findIndex(p => p.id === objId)\r\n        if(i === -1) throw new FileNotFound();\r\n\r\n        this.content = this.content.filter(o => o.id !== objId)\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate \r\n     */\r\n    deleteAll(predicate) {\r\n        this.load()\r\n        this.content = this.content.filter(o => !predicate(o))\r\n        this.save()\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate\r\n     * @returns {T}\r\n     */\r\n    getOne(predicate) {\r\n        this.load()\r\n        return this.content.find(predicate)\r\n    }\r\n\r\n    /**\r\n     * @param {(any) => boolean} predicate \r\n     * @returns {T}\r\n     */\r\n    getAll(predicate) {\r\n        this.load()\r\n        return this.content.filter(predicate)\r\n    }\r\n\r\n\r\n\r\n    save() {\r\n        fs.writeFileSync(this.filename, JSON.stringify(this.content))\r\n    }\r\n\r\n    load() {\r\n        const json = fs.readFileSync(this.filename)\r\n        this.content = JSON.parse(json)\r\n    }\r\n\r\n\r\n\r\n}","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class IdAlreadyUsed extends BadRequest {\r\n    \r\n    constructor() {\r\n        super()\r\n        this.statusCode = \"400.2\"\r\n        this.message = \"The id provided for this object already used for another one\"\r\n    }\r\n}","import BadRequest from \"../../Errors/BadRequest\";\r\n\r\nexport default class InvalidSchemeError extends BadRequest {\r\n    \r\n    constructor(error) {\r\n        super()\r\n        this.statusCode = \"400.1\"\r\n        this.data = error\r\n        this.message = \"The provided object is invalid\"\r\n    }\r\n}","import HttpMessage from \"./HttpMessage\";\r\n\r\nexport default class BadRequest extends HttpMessage {\r\n\r\n    constructor() {\r\n        super({})\r\n        this.code = 400\r\n        this.success = false\r\n        this.statusCode = \"400\"\r\n    }\r\n}","export function Execute(res, action) {\r\n    try {\r\n        action()\r\n    } catch (error) {\r\n        if(error.send) error.send(res)\r\n        else {\r\n            console.error(error)\r\n            res.sendStatus(500)\r\n        }\r\n    }\r\n}","import HttpMessage from \"./HttpMessage\";\r\n\r\nexport default class FileNotFound extends HttpMessage {\r\n    constructor() {\r\n        super(\"File not found\")\r\n        this.code = 404;\r\n        this.success = false\r\n        this.statusCode = \"404\"\r\n        this.message = \"The element you search for were not found.\"\r\n    }\r\n}","export default class HttpMessage {\r\n\r\n    constructor(data) {\r\n        this.success = true\r\n        this.message = \"Success\"\r\n        this.statusCode = \"200\"\r\n        this.data = data\r\n        this.code = 200\r\n    }\r\n\r\n    send(res) {\r\n        res.status(this.code).json({\r\n            success: this.success, \r\n            statusCode: this.statusCode,\r\n            message: this.message,\r\n            data: this.data\r\n        })\r\n    }\r\n}","import BaseModel from \"../Database/BaseModel\";\r\nimport joi from '@hapi/joi'\r\n\r\n\r\n/**\r\n * @typedef {{\r\n * id: string,\r\n * question_name: string\r\n * type: number,\r\n * answer: {\r\n *      is_correct: boolean,\r\n *      data: string \r\n * }[]\r\n * }} Question\r\n */\r\n\r\n/**\r\n * @typedef {{\r\n * id: number,\r\n * name: string,\r\n * difficulty: number,\r\n * questions: Question[]\r\n * }} Quizz\r\n */\r\n\r\n/** @type { BaseModel<Quizz> } */\r\nconst quizzModel = new BaseModel('quizz', joi.object({\r\n    id: joi.number().integer().min(0).required(),\r\n    name: joi.string().required(),\r\n    difficulty: joi.number().integer().min(0).max(3).default(0),\r\n\r\n    questions: joi.array().items(joi.object({\r\n        id: joi.string().required(),\r\n        question_name: joi.string().required(),\r\n        type: joi.number().integer().min(0).max(1).default(0),\r\n        answer: joi.array().items(joi.object({\r\n            is_correct: joi.boolean().default(false),\r\n            data: joi.string().required()\r\n        })).max(4).required()\r\n    })).default([])\r\n}))\r\n\r\nexport default quizzModel","import BaseModel from \"../Database/BaseModel\";\r\nimport joi from '@hapi/joi'\r\n\r\n\r\n/** \r\n * @typedef {{ \r\n * id: number, \r\n * surname: string, \r\n * name: string, \r\n * handicap: number, \r\n * font_size: number,\r\n * birthday: Date, \r\n * size_font_config: { \r\n *      name: string, \r\n *      size: number, \r\n *      default: boolean }[] \r\n * }} User \r\n * */\r\n\r\n\r\n/** @type { BaseModel<User> } */\r\nconst userModel = new BaseModel('users', joi.object({\r\n    id: joi.number().integer().min(0).required(),\r\n    surname: joi.string().required(),\r\n    name: joi.string().required(),\r\n    handicap: joi.number().integer().min(0).max(5).default(5),\r\n    font_size: joi.number().default(40),\r\n    birthday: joi.date(),\r\n    size_font_configs: joi.array().items(joi.object({\r\n        name: joi.string().required(),\r\n        size: joi.number().required(),\r\n        default: joi.boolean().default(false)\r\n    }))\r\n}))\r\n\r\nexport default userModel","import express from 'express'\r\nimport cors from 'cors'\r\nimport bodyParser from 'body-parser'\r\nimport apiRouter from './API'\r\nimport morgan from 'morgan'\r\n\r\nconst PORT = process.env.PORT || 3000\r\n\r\n\r\nconst app = express()\r\n\r\napp.disable('x-powered-by')\r\napp.use(cors({}))\r\napp.use(bodyParser.json())\r\napp.use(morgan('[:date[iso]] :method :url :status :response-time ms - :res[content-length]'))\r\n\r\n\r\napp.use(apiRouter)\r\n\r\napp.get('/', (req, res) => {\r\n     res.sendStatus(200)\r\n})\r\n\r\n\r\n\r\napp.use('*', (req, res) => res.status(404).end())\r\napp.listen(PORT, () => {\r\n    console.log(\"Server started successfully on : http://localhost:\" + PORT)\r\n})","module.exports = require(\"@hapi/joi\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"fs\");","module.exports = require(\"morgan\");","module.exports = require(\"path\");"],"sourceRoot":""}